import{$ as _n,A as Ye,Aa as Yr,Ab as Rn,B as Se,Bb as zo,C as zr,Ca as Oo,Cb as Zr,D as Xe,Da as At,Db as Sn,E as mo,Eb as An,F as Ze,Fa as Qe,Fb as Cn,G as Ae,Ga as Po,H as Br,Hb as Qr,I as vo,Ia as Do,Ib as Bo,J as yo,Ja as No,Jb as On,K as Io,Ka as ko,L as $,M as wo,N as D,O as P,Ob as Wo,Pa as Mo,Pb as ei,Q as T,Qa as Lo,Qb as Ho,R as En,Ra as Xr,Rb as qo,S as Eo,Sb as V,T as A,Ta as Uo,Tb as Go,U as Wr,Ua as xo,Ub as Ct,V as E,Vb as Ko,W as p,Wb as Jo,X as ee,Xb as Ot,Y as _o,Yb as Pn,Z as Rt,_ as To,a as co,aa as Hr,ac as Yo,b as uo,c as Te,ca as ue,cc as Dn,d as Ur,da as bo,dc as Xo,e as xr,ea as $e,eb as Fo,ec as Nn,f as be,fa as H,g as W,ga as qr,h as lo,hb as jo,i as ho,j as Re,k as In,l as Fr,la as Gr,m as jr,ma as Ro,n as L,na as Ve,o as m,oa as Tn,p as bt,pa as St,q as fo,qa as U,r as po,ra as Kr,s as b,sb as $o,t as wn,u as j,ua as So,v as $r,va as Ao,w as go,wa as Jr,x as Vr,xa as Co,ya as le,yb as bn,z as ce,zb as Vo}from"./chunk-TMVVO5PM.js";import{a as f,b as M,d as je,e as l}from"./chunk-ACKELEN3.js";var Dt=class{},Mn=class{},de=class n{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?typeof e=="string"?this.lazyInit=()=>{this.headers=new Map,e.split(`
`).forEach(t=>{let r=t.indexOf(":");if(r>0){let i=t.slice(0,r),s=i.toLowerCase(),o=t.slice(r+1).trim();this.maybeSetNormalizedName(i,s),this.headers.has(s)?this.headers.get(s).push(o):this.headers.set(s,[o])}})}:typeof Headers<"u"&&e instanceof Headers?(this.headers=new Map,e.forEach((t,r)=>{this.setHeaderEntries(r,t)})):this.lazyInit=()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{this.setHeaderEntries(t,r)})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();let t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof n?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){let t=new n;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof n?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){let t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if(typeof r=="string"&&(r=[r]),r.length===0)return;this.maybeSetNormalizedName(e.name,t);let i=(e.op==="a"?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":let s=e.value;if(!s)this.headers.delete(t),this.normalizedNames.delete(t);else{let o=this.headers.get(t);if(!o)return;o=o.filter(c=>s.indexOf(c)===-1),o.length===0?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,o)}break}}setHeaderEntries(e,t){let r=(Array.isArray(t)?t:[t]).map(s=>s.toString()),i=e.toLowerCase();this.headers.set(i,r),this.maybeSetNormalizedName(e,i)}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}};var ni=class{encodeKey(e){return Zo(e)}encodeValue(e){return Zo(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}};function Lu(n,e){let t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{let s=i.indexOf("="),[o,c]=s==-1?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,s)),e.decodeValue(i.slice(s+1))],a=t.get(o)||[];a.push(c),t.set(o,a)}),t}var Uu=/%(\d[a-f0-9])/gi,xu={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Zo(n){return encodeURIComponent(n).replace(Uu,(e,t)=>xu[t]??e)}function kn(n){return`${n}`}var Oe=class n{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new ni,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=Lu(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{let r=e.fromObject[t],i=Array.isArray(r)?r.map(kn):[kn(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();let t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){let t=[];return Object.keys(e).forEach(r=>{let i=e[r];Array.isArray(i)?i.forEach(s=>{t.push({param:r,value:s,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{let t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>e!=="").join("&")}clone(e){let t=new n({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){this.map===null&&(this.map=new Map),this.cloneFrom!==null&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":let t=(e.op==="a"?this.map.get(e.param):void 0)||[];t.push(kn(e.value)),this.map.set(e.param,t);break;case"d":if(e.value!==void 0){let r=this.map.get(e.param)||[],i=r.indexOf(kn(e.value));i!==-1&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}else{this.map.delete(e.param);break}}}),this.cloneFrom=this.updates=null)}};var ri=class{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}};function Fu(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}function Qo(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function ea(n){return typeof Blob<"u"&&n instanceof Blob}function ta(n){return typeof FormData<"u"&&n instanceof FormData}function ju(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}var Pt=class n{constructor(e,t,r,i){this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase();let s;if(Fu(this.method)||i?(this.body=r!==void 0?r:null,s=i):s=r,s&&(this.reportProgress=!!s.reportProgress,this.withCredentials=!!s.withCredentials,s.responseType&&(this.responseType=s.responseType),s.headers&&(this.headers=s.headers),s.context&&(this.context=s.context),s.params&&(this.params=s.params),this.transferCache=s.transferCache),this.headers??=new de,this.context??=new ri,!this.params)this.params=new Oe,this.urlWithParams=t;else{let o=this.params.toString();if(o.length===0)this.urlWithParams=t;else{let c=t.indexOf("?"),a=c===-1?"?":c<t.length-1?"&":"";this.urlWithParams=t+a+o}}}serializeBody(){return this.body===null?null:typeof this.body=="string"||Qo(this.body)||ea(this.body)||ta(this.body)||ju(this.body)?this.body:this.body instanceof Oe?this.body.toString():typeof this.body=="object"||typeof this.body=="boolean"||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return this.body===null||ta(this.body)?null:ea(this.body)?this.body.type||null:Qo(this.body)?null:typeof this.body=="string"?"text/plain":this.body instanceof Oe?"application/x-www-form-urlencoded;charset=UTF-8":typeof this.body=="object"||typeof this.body=="number"||typeof this.body=="boolean"?"application/json":null}clone(e={}){let t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,s=e.transferCache??this.transferCache,o=e.body!==void 0?e.body:this.body,c=e.withCredentials??this.withCredentials,a=e.reportProgress??this.reportProgress,u=e.headers||this.headers,d=e.params||this.params,h=e.context??this.context;return e.setHeaders!==void 0&&(u=Object.keys(e.setHeaders).reduce((g,y)=>g.set(y,e.setHeaders[y]),u)),e.setParams&&(d=Object.keys(e.setParams).reduce((g,y)=>g.set(y,e.setParams[y]),d)),new n(t,r,o,{params:d,headers:u,context:h,reportProgress:a,responseType:i,withCredentials:c,transferCache:s})}},Pe=function(n){return n[n.Sent=0]="Sent",n[n.UploadProgress=1]="UploadProgress",n[n.ResponseHeader=2]="ResponseHeader",n[n.DownloadProgress=3]="DownloadProgress",n[n.Response=4]="Response",n[n.User=5]="User",n}(Pe||{}),Nt=class{constructor(e,t=200,r="OK"){this.headers=e.headers||new de,this.status=e.status!==void 0?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}},Ln=class n extends Nt{constructor(e={}){super(e),this.type=Pe.ResponseHeader}clone(e={}){return new n({headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},kt=class n extends Nt{constructor(e={}){super(e),this.type=Pe.Response,this.body=e.body!==void 0?e.body:null}clone(e={}){return new n({body:e.body!==void 0?e.body:this.body,headers:e.headers||this.headers,status:e.status!==void 0?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}},Ce=class extends Nt{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.status>=200&&this.status<300?this.message=`Http failure during parsing for ${e.url||"(unknown url)"}`:this.message=`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}},sa=200,$u=204;function ti(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials,transferCache:n.transferCache}}var Vu=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let s;if(t instanceof Pt)s=t;else{let a;i.headers instanceof de?a=i.headers:a=new de(i.headers);let u;i.params&&(i.params instanceof Oe?u=i.params:u=new Oe({fromObject:i.params})),s=new Pt(t,r,i.body!==void 0?i.body:null,{headers:a,context:i.context,params:u,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials,transferCache:i.transferCache})}let o=m(s).pipe(Se(a=>this.handler.handle(a)));if(t instanceof Pt||i.observe==="events")return o;let c=o.pipe(ce(a=>a instanceof kt));switch(i.observe||"body"){case"body":switch(s.responseType){case"arraybuffer":return c.pipe(b(a=>{if(a.body!==null&&!(a.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return a.body}));case"blob":return c.pipe(b(a=>{if(a.body!==null&&!(a.body instanceof Blob))throw new Error("Response is not a Blob.");return a.body}));case"text":return c.pipe(b(a=>{if(a.body!==null&&typeof a.body!="string")throw new Error("Response is not a string.");return a.body}));case"json":default:return c.pipe(b(a=>a.body))}case"response":return c;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:new Oe().append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,ti(i,r))}post(t,r,i={}){return this.request("POST",t,ti(i,r))}put(t,r,i={}){return this.request("PUT",t,ti(i,r))}static{this.\u0275fac=function(r){return new(r||n)(E(Dt))}}static{this.\u0275prov=T({token:n,factory:n.\u0275fac})}}return n})(),zu=/^\)\]\}',?\n/,Bu="X-Request-URL";function na(n){if(n.url)return n.url;let e=Bu.toLocaleLowerCase();return n.headers.get(e)}var Wu=(()=>{class n{constructor(){this.fetchImpl=p(ii,{optional:!0})?.fetch??((...t)=>globalThis.fetch(...t)),this.ngZone=p(U)}handle(t){return new Te(r=>{let i=new AbortController;return this.doRequest(t,i.signal,r).then(si,s=>r.error(new Ce({error:s}))),()=>i.abort()})}doRequest(t,r,i){return l(this,null,function*(){let s=this.createRequestInit(t),o;try{let y=this.ngZone.runOutsideAngular(()=>this.fetchImpl(t.urlWithParams,f({signal:r},s)));Hu(y),i.next({type:Pe.Sent}),o=yield y}catch(y){i.error(new Ce({error:y,status:y.status??0,statusText:y.statusText,url:t.urlWithParams,headers:y.headers}));return}let c=new de(o.headers),a=o.statusText,u=na(o)??t.urlWithParams,d=o.status,h=null;if(t.reportProgress&&i.next(new Ln({headers:c,status:d,statusText:a,url:u})),o.body){let y=o.headers.get("content-length"),S=[],_=o.body.getReader(),w=0,k,J,O=typeof Zone<"u"&&Zone.current;yield this.ngZone.runOutsideAngular(()=>l(this,null,function*(){for(;;){let{done:Q,value:ae}=yield _.read();if(Q)break;if(S.push(ae),w+=ae.length,t.reportProgress){J=t.responseType==="text"?(J??"")+(k??=new TextDecoder).decode(ae,{stream:!0}):void 0;let Tt=()=>i.next({type:Pe.DownloadProgress,total:y?+y:void 0,loaded:w,partialText:J});O?O.run(Tt):Tt()}}}));let _e=this.concatChunks(S,w);try{let Q=o.headers.get("Content-Type")??"";h=this.parseBody(t,_e,Q)}catch(Q){i.error(new Ce({error:Q,headers:new de(o.headers),status:o.status,statusText:o.statusText,url:na(o)??t.urlWithParams}));return}}d===0&&(d=h?sa:0),d>=200&&d<300?(i.next(new kt({body:h,headers:c,status:d,statusText:a,url:u})),i.complete()):i.error(new Ce({error:h,headers:c,status:d,statusText:a,url:u}))})}parseBody(t,r,i){switch(t.responseType){case"json":let s=new TextDecoder().decode(r).replace(zu,"");return s===""?null:JSON.parse(s);case"text":return new TextDecoder().decode(r);case"blob":return new Blob([r],{type:i});case"arraybuffer":return r.buffer}}createRequestInit(t){let r={},i=t.withCredentials?"include":void 0;if(t.headers.forEach((s,o)=>r[s]=o.join(",")),t.headers.has("Accept")||(r.Accept="application/json, text/plain, */*"),!t.headers.has("Content-Type")){let s=t.detectContentTypeHeader();s!==null&&(r["Content-Type"]=s)}return{body:t.serializeBody(),method:t.method,headers:r,credentials:i}}concatChunks(t,r){let i=new Uint8Array(r),s=0;for(let o of t)i.set(o,s),s+=o.length;return i}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=T({token:n,factory:n.\u0275fac})}}return n})(),ii=class{};function si(){}function Hu(n){n.then(si,si)}function qu(n,e){return e(n)}function Gu(n,e,t){return(r,i)=>H(t,()=>e(r,s=>n(s,i)))}var oa=new A(""),Ku=new A(""),Ju=new A("",{providedIn:"root",factory:()=>!0});var ra=(()=>{class n extends Dt{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null,this.pendingTasks=p(Tn),this.contributeToStability=p(Ju)}handle(t){if(this.chain===null){let r=Array.from(new Set([...this.injector.get(oa),...this.injector.get(Ku,[])]));this.chain=r.reduceRight((i,s)=>Gu(i,s,this.injector),qu)}if(this.contributeToStability){let r=this.pendingTasks.add();return this.chain(t,i=>this.backend.handle(i)).pipe(Ze(()=>this.pendingTasks.remove(r)))}else return this.chain(t,r=>this.backend.handle(r))}static{this.\u0275fac=function(r){return new(r||n)(E(Mn),E($e))}}static{this.\u0275prov=T({token:n,factory:n.\u0275fac})}}return n})();var Yu=/^\)\]\}',?\n/;function Xu(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}var ia=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if(t.method==="JSONP")throw new P(-2800,!1);let r=this.xhrFactory;return(r.\u0275loadImpl?L(r.\u0275loadImpl()):m(null)).pipe($(()=>new Te(s=>{let o=r.build();if(o.open(t.method,t.urlWithParams),t.withCredentials&&(o.withCredentials=!0),t.headers.forEach((_,w)=>o.setRequestHeader(_,w.join(","))),t.headers.has("Accept")||o.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){let _=t.detectContentTypeHeader();_!==null&&o.setRequestHeader("Content-Type",_)}if(t.responseType){let _=t.responseType.toLowerCase();o.responseType=_!=="json"?_:"text"}let c=t.serializeBody(),a=null,u=()=>{if(a!==null)return a;let _=o.statusText||"OK",w=new de(o.getAllResponseHeaders()),k=Xu(o)||t.url;return a=new Ln({headers:w,status:o.status,statusText:_,url:k}),a},d=()=>{let{headers:_,status:w,statusText:k,url:J}=u(),O=null;w!==$u&&(O=typeof o.response>"u"?o.responseText:o.response),w===0&&(w=O?sa:0);let _e=w>=200&&w<300;if(t.responseType==="json"&&typeof O=="string"){let Q=O;O=O.replace(Yu,"");try{O=O!==""?JSON.parse(O):null}catch(ae){O=Q,_e&&(_e=!1,O={error:ae,text:O})}}_e?(s.next(new kt({body:O,headers:_,status:w,statusText:k,url:J||void 0})),s.complete()):s.error(new Ce({error:O,headers:_,status:w,statusText:k,url:J||void 0}))},h=_=>{let{url:w}=u(),k=new Ce({error:_,status:o.status||0,statusText:o.statusText||"Unknown Error",url:w||void 0});s.error(k)},g=!1,y=_=>{g||(s.next(u()),g=!0);let w={type:Pe.DownloadProgress,loaded:_.loaded};_.lengthComputable&&(w.total=_.total),t.responseType==="text"&&o.responseText&&(w.partialText=o.responseText),s.next(w)},S=_=>{let w={type:Pe.UploadProgress,loaded:_.loaded};_.lengthComputable&&(w.total=_.total),s.next(w)};return o.addEventListener("load",d),o.addEventListener("error",h),o.addEventListener("timeout",h),o.addEventListener("abort",h),t.reportProgress&&(o.addEventListener("progress",y),c!==null&&o.upload&&o.upload.addEventListener("progress",S)),o.send(c),s.next({type:Pe.Sent}),()=>{o.removeEventListener("error",h),o.removeEventListener("abort",h),o.removeEventListener("load",d),o.removeEventListener("timeout",h),t.reportProgress&&(o.removeEventListener("progress",y),c!==null&&o.upload&&o.upload.removeEventListener("progress",S)),o.readyState!==o.DONE&&o.abort()}})))}static{this.\u0275fac=function(r){return new(r||n)(E(Nn))}}static{this.\u0275prov=T({token:n,factory:n.\u0275fac})}}return n})(),aa=new A(""),Zu="XSRF-TOKEN",Qu=new A("",{providedIn:"root",factory:()=>Zu}),el="X-XSRF-TOKEN",tl=new A("",{providedIn:"root",factory:()=>el}),Un=class{},nl=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if(this.platform==="server")return null;let t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Pn(t,this.cookieName),this.lastCookieString=t),this.lastToken}static{this.\u0275fac=function(r){return new(r||n)(E(V),E(le),E(Qu))}}static{this.\u0275prov=T({token:n,factory:n.\u0275fac})}}return n})();function rl(n,e){let t=n.url.toLowerCase();if(!p(aa)||n.method==="GET"||n.method==="HEAD"||t.startsWith("http://")||t.startsWith("https://"))return e(n);let r=p(Un).getToken(),i=p(tl);return r!=null&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}function jm(...n){let e=[Vu,ia,ra,{provide:Dt,useExisting:ra},{provide:Mn,useFactory:()=>p(Wu,{optional:!0})??p(ia)},{provide:oa,useValue:rl,multi:!0},{provide:aa,useValue:!0},{provide:Un,useClass:nl}];for(let t of n)e.push(...t.\u0275providers);return ue(e)}var ui=class extends qo{constructor(){super(...arguments),this.supportsDOMEvents=!0}},li=class n extends ui{static makeCurrent(){Ho(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=sl();return t==null?null:ol(t)}resetBaseElement(){Mt=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return Pn(document.cookie,e)}},Mt=null;function sl(){return Mt=Mt||document.querySelector("base"),Mt?Mt.getAttribute("href"):null}function ol(n){return new URL(n,document.baseURI).pathname}var al=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=T({token:n,factory:n.\u0275fac})}}return n})(),di=new A(""),da=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(s=>s.supports(t)),!r)throw new P(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(E(di),E(U))}}static{this.\u0275prov=T({token:n,factory:n.\u0275fac})}}return n})(),xn=class{constructor(e){this._doc=e}},ai="ng-app-id",ha=(()=>{class n{constructor(t,r,i,s={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Dn(s),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${ai}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let s=i.get(t);return s.usage+=r,s.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===t)return i.delete(r),s.removeAttribute(ai),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(ai,this.appId),t.appendChild(o),o}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(E(V),E(Jr),E(Yr,8),E(le))}}static{this.\u0275prov=T({token:n,factory:n.\u0275fac})}}return n})(),ci={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},fi=/%COMP%/g,fa="%COMP%",cl=`_nghost-${fa}`,ul=`_ngcontent-${fa}`,ll=!0,dl=new A("",{providedIn:"root",factory:()=>ll});function hl(n){return ul.replace(fi,n)}function fl(n){return cl.replace(fi,n)}function pa(n,e){return e.map(t=>t.replace(fi,n))}var ca=(()=>{class n{constructor(t,r,i,s,o,c,a,u=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=c,this.ngZone=a,this.nonce=u,this.rendererByCompId=new Map,this.platformIsServer=Dn(c),this.defaultRenderer=new Lt(t,o,a,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Rt.ShadowDom&&(r=M(f({},r),{encapsulation:Rt.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Fn?i.applyToHost(t):i instanceof Ut&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,c=this.ngZone,a=this.eventManager,u=this.sharedStylesHost,d=this.removeStylesOnCompDestroy,h=this.platformIsServer;switch(r.encapsulation){case Rt.Emulated:s=new Fn(a,u,r,this.appId,d,o,c,h);break;case Rt.ShadowDom:return new hi(a,u,t,r,o,c,this.nonce,h);default:s=new Ut(a,u,r,d,o,c,h);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(E(da),E(ha),E(Jr),E(dl),E(V),E(le),E(U),E(Yr))}}static{this.\u0275prov=T({token:n,factory:n.\u0275fac})}}return n})(),Lt=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(ci[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(ua(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ua(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new P(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let s=ci[i];s?e.setAttributeNS(s,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=ci[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(At.DashCase|At.Important)?e.style.setProperty(t,r,i&At.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&At.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=ei().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function ua(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var hi=class extends Lt{constructor(e,t,r,i,s,o,c,a){super(e,s,o,a),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let u=pa(i.id,i.styles);for(let d of u){let h=document.createElement("style");c&&h.setAttribute("nonce",c),h.textContent=d,this.shadowRoot.appendChild(h)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Ut=class extends Lt{constructor(e,t,r,i,s,o,c,a){super(e,s,o,c),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=a?pa(a,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Fn=class extends Ut{constructor(e,t,r,i,s,o,c,a){let u=i+"-"+r.id;super(e,t,r,s,o,c,a,u),this.contentAttr=hl(u),this.hostAttr=fl(u)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},pl=(()=>{class n extends xn{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(E(V))}}static{this.\u0275prov=T({token:n,factory:n.\u0275fac})}}return n})(),la=["alt","control","meta","shift"],gl={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},ml={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},vl=(()=>{class n extends xn{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let s=n.parseEventName(r),o=n.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>ei().onAndCancel(t,s.domEventName,o))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=n._normalizeKey(r.pop()),o="",c=r.indexOf("code");if(c>-1&&(r.splice(c,1),o="code."),la.forEach(u=>{let d=r.indexOf(u);d>-1&&(r.splice(d,1),o+=u+".")}),o+=s,r.length!=0||s.length===0)return null;let a={};return a.domEventName=i,a.fullKey=o,a}static matchEventFullKeyCode(t,r){let i=gl[t.key]||t.key,s="";return r.indexOf("code.")>-1&&(i=t.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),la.forEach(o=>{if(o!==i){let c=ml[o];c(t)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(t,r,i){return s=>{n.matchEventFullKeyCode(s,t)&&i.runGuarded(()=>r(s))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(E(V))}}static{this.\u0275prov=T({token:n,factory:n.\u0275fac})}}return n})();function Iv(n,e){return Bo(f({rootComponent:n},yl(e)))}function yl(n){return{appProviders:[...Tl,...n?.providers??[]],platformProviders:_l}}function Il(){li.makeCurrent()}function wl(){return new Kr}function El(){return Ao(document),document}var _l=[{provide:le,useValue:Yo},{provide:Co,useValue:Il,multi:!0},{provide:V,useFactory:El,deps:[]}];var Tl=[{provide:bo,useValue:"root"},{provide:Kr,useFactory:wl,deps:[]},{provide:di,useClass:pl,multi:!0,deps:[V,U,le]},{provide:di,useClass:vl,multi:!0,deps:[V]},ca,ha,da,{provide:Do,useExisting:ca},{provide:Nn,useClass:al,deps:[]},[]];var ga=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(E(V))}}static{this.\u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var I="primary",Xt=Symbol("RouteTitle"),yi=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function st(n){return new yi(n)}function Rl(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],c=n[s];if(o[0]===":")i[o.substring(1)]=c;else if(o!==c.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Sl(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!te(n[t],e[t]))return!1;return!0}function te(n,e){let t=n?Ii(n):void 0,r=e?Ii(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let s=0;s<t.length;s++)if(i=t[s],!Sa(n[i],e[i]))return!1;return!0}function Ii(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function Sa(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,s)=>r[s]===i)}else return n===e}function Aa(n){return n.length>0?n[n.length-1]:null}function ke(n){return fo(n)?n:zo(n)?L(Promise.resolve(n)):m(n)}var Al={exact:Oa,subset:Pa},Ca={exact:Cl,subset:Ol,ignored:()=>!0};function ma(n,e,t){return Al[t.paths](n.root,e.root,t.matrixParams)&&Ca[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function Cl(n,e){return te(n,e)}function Oa(n,e,t){if(!Be(n.segments,e.segments)||!Vn(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!Oa(n.children[r],e.children[r],t))return!1;return!0}function Ol(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Sa(n[t],e[t]))}function Pa(n,e,t){return Da(n,e,e.segments,t)}function Da(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Be(i,t)||e.hasChildren()||!Vn(i,t,r))}else if(n.segments.length===t.length){if(!Be(n.segments,t)||!Vn(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!Pa(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),s=t.slice(n.segments.length);return!Be(n.segments,i)||!Vn(n.segments,i,r)||!n.children[I]?!1:Da(n.children[I],e,s,r)}}function Vn(n,e,t){return e.every((r,i)=>Ca[t](n[i].parameters,r.parameters))}var fe=class{constructor(e=new R([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=st(this.queryParams),this._queryParamMap}toString(){return Nl.serialize(this)}},R=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return zn(this)}},ze=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=st(this.parameters),this._parameterMap}toString(){return ka(this)}};function Pl(n,e){return Be(n,e)&&n.every((t,r)=>te(t.parameters,e[r].parameters))}function Be(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function Dl(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===I&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==I&&(t=t.concat(e(i,r)))}),t}var Zt=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=T({token:n,factory:()=>new ot,providedIn:"root"})}}return n})(),ot=class{parse(e){let t=new Ei(e);return new fe(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${xt(e.root,!0)}`,r=Ll(e.queryParams),i=typeof e.fragment=="string"?`#${kl(e.fragment)}`:"";return`${t}${r}${i}`}},Nl=new ot;function zn(n){return n.segments.map(e=>ka(e)).join("/")}function xt(n,e){if(!n.hasChildren())return zn(n);if(e){let t=n.children[I]?xt(n.children[I],!1):"",r=[];return Object.entries(n.children).forEach(([i,s])=>{i!==I&&r.push(`${i}:${xt(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=Dl(n,(r,i)=>i===I?[xt(n.children[I],!1)]:[`${i}:${xt(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[I]!=null?`${zn(n)}/${t[0]}`:`${zn(n)}/(${t.join("//")})`}}function Na(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function jn(n){return Na(n).replace(/%3B/gi,";")}function kl(n){return encodeURI(n)}function wi(n){return Na(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bn(n){return decodeURIComponent(n)}function va(n){return Bn(n.replace(/\+/g,"%20"))}function ka(n){return`${wi(n.path)}${Ml(n.parameters)}`}function Ml(n){return Object.entries(n).map(([e,t])=>`;${wi(e)}=${wi(t)}`).join("")}function Ll(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${jn(t)}=${jn(i)}`).join("&"):`${jn(t)}=${jn(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var Ul=/^[^\/()?;#]+/;function pi(n){let e=n.match(Ul);return e?e[0]:""}var xl=/^[^\/()?;=#]+/;function Fl(n){let e=n.match(xl);return e?e[0]:""}var jl=/^[^=?&#]+/;function $l(n){let e=n.match(jl);return e?e[0]:""}var Vl=/^[^&#]+/;function zl(n){let e=n.match(Vl);return e?e[0]:""}var Ei=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new R([],{}):new R([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[I]=new R(e,t)),r}parseSegment(){let e=pi(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new P(4009,!1);return this.capture(e),new ze(Bn(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=Fl(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=pi(this.remaining);i&&(r=i,this.capture(r))}e[Bn(t)]=Bn(r)}parseQueryParam(e){let t=$l(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let o=zl(this.remaining);o&&(r=o,this.capture(r))}let i=va(t),s=va(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=pi(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new P(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=I);let o=this.parseChildren();t[s]=Object.keys(o).length===1?o[I]:new R([],o),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new P(4011,!1)}};function Ma(n){return n.segments.length>0?new R([],{[I]:n}):n}function La(n){let e={};for(let[r,i]of Object.entries(n.children)){let s=La(i);if(r===I&&s.segments.length===0&&s.hasChildren())for(let[o,c]of Object.entries(s.children))e[o]=c;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let t=new R(n.segments,e);return Bl(t)}function Bl(n){if(n.numberOfChildren===1&&n.children[I]){let e=n.children[I];return new R(n.segments.concat(e.segments),e.children)}return n}function We(n){return n instanceof fe}function Wl(n,e,t=null,r=null){let i=Ua(n);return xa(i,e,t,r)}function Ua(n){let e;function t(s){let o={};for(let a of s.children){let u=t(a);o[a.outlet]=u}let c=new R(s.url,o);return s===n&&(e=c),c}let r=t(n.root),i=Ma(r);return e??i}function xa(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return gi(i,i,i,t,r);let s=Hl(e);if(s.toRoot())return gi(i,i,new R([],{}),t,r);let o=ql(s,i,n),c=o.processChildren?$t(o.segmentGroup,o.index,s.commands):ja(o.segmentGroup,o.index,s.commands);return gi(i,o.segmentGroup,c,t,r)}function Wn(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function Bt(n){return typeof n=="object"&&n!=null&&n.outlets}function gi(n,e,t,r,i){let s={};r&&Object.entries(r).forEach(([a,u])=>{s[a]=Array.isArray(u)?u.map(d=>`${d}`):`${u}`});let o;n===e?o=t:o=Fa(n,e,t);let c=Ma(La(o));return new fe(c,s,i)}function Fa(n,e,t){let r={};return Object.entries(n.children).forEach(([i,s])=>{s===e?r[i]=t:r[i]=Fa(s,e,t)}),new R(n.segments,r)}var Hn=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Wn(r[0]))throw new P(4003,!1);let i=r.find(Bt);if(i&&i!==Aa(r))throw new P(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function Hl(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new Hn(!0,0,n);let e=0,t=!1,r=n.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let c={};return Object.entries(s.outlets).forEach(([a,u])=>{c[a]=typeof u=="string"?u.split("/"):u}),[...i,{outlets:c}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((c,a)=>{a==0&&c==="."||(a==0&&c===""?t=!0:c===".."?e++:c!=""&&i.push(c))}),i):[...i,s]},[]);return new Hn(t,e,r)}var nt=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function ql(n,e,t){if(n.isAbsolute)return new nt(e,!0,0);if(!t)return new nt(e,!1,NaN);if(t.parent===null)return new nt(t,!0,0);let r=Wn(n.commands[0])?0:1,i=t.segments.length-1+r;return Gl(t,i,n.numberOfDoubleDots)}function Gl(n,e,t){let r=n,i=e,s=t;for(;s>i;){if(s-=i,r=r.parent,!r)throw new P(4005,!1);i=r.segments.length}return new nt(r,!1,i-s)}function Kl(n){return Bt(n[0])?n[0].outlets:{[I]:n}}function ja(n,e,t){if(n??=new R([],{}),n.segments.length===0&&n.hasChildren())return $t(n,e,t);let r=Jl(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let s=new R(n.segments.slice(0,r.pathIndex),{});return s.children[I]=new R(n.segments.slice(r.pathIndex),n.children),$t(s,0,i)}else return r.match&&i.length===0?new R(n.segments,{}):r.match&&!n.hasChildren()?_i(n,e,t):r.match?$t(n,0,i):_i(n,e,t)}function $t(n,e,t){if(t.length===0)return new R(n.segments,{});{let r=Kl(t),i={};if(Object.keys(r).some(s=>s!==I)&&n.children[I]&&n.numberOfChildren===1&&n.children[I].segments.length===0){let s=$t(n.children[I],e,t);return new R(n.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=ja(n.children[s],e,o))}),Object.entries(n.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new R(n.segments,i)}}function Jl(n,e,t){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return s;let o=n.segments[i],c=t[r];if(Bt(c))break;let a=`${c}`,u=r<t.length-1?t[r+1]:null;if(i>0&&a===void 0)break;if(a&&u&&typeof u=="object"&&u.outlets===void 0){if(!Ia(a,u,o))return s;r+=2}else{if(!Ia(a,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function _i(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let s=t[i];if(Bt(s)){let a=Yl(s.outlets);return new R(r,a)}if(i===0&&Wn(t[0])){let a=n.segments[e];r.push(new ze(a.path,ya(t[0]))),i++;continue}let o=Bt(s)?s.outlets[I]:`${s}`,c=i<t.length-1?t[i+1]:null;o&&c&&Wn(c)?(r.push(new ze(o,ya(c))),i+=2):(r.push(new ze(o,{})),i++)}return new R(r,{})}function Yl(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=_i(new R([],{}),0,r))}),e}function ya(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function Ia(n,e,t){return n==t.path&&te(e,t.parameters)}var Vt="imperative",N=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(N||{}),q=class{constructor(e,t){this.id=e,this.url=t}},at=class extends q{constructor(e,t,r="imperative",i=null){super(e,t),this.type=N.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},ne=class extends q{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=N.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},B=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(B||{}),qn=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(qn||{}),he=class extends q{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=N.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},De=class extends q{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=N.NavigationSkipped}},Wt=class extends q{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=N.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Gn=class extends q{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=N.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ti=class extends q{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=N.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},bi=class extends q{constructor(e,t,r,i,s){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=N.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Ri=class extends q{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=N.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Si=class extends q{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=N.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ai=class{constructor(e){this.route=e,this.type=N.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ci=class{constructor(e){this.route=e,this.type=N.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Oi=class{constructor(e){this.snapshot=e,this.type=N.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Pi=class{constructor(e){this.snapshot=e,this.type=N.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Di=class{constructor(e){this.snapshot=e,this.type=N.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Ni=class{constructor(e){this.snapshot=e,this.type=N.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Kn=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=N.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Ht=class{},ct=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function Xl(n,e){return n.providers&&!n._injector&&(n._injector=Xr(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Y(n){return n.outlet||I}function Zl(n,e){let t=n.filter(r=>Y(r)===e);return t.push(...n.filter(r=>Y(r)!==e)),t}function Qt(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var ki=class{get injector(){return Qt(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new en(this.rootInjector),this.attachRef=null}},en=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new ki(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(E($e))}}static{this.\u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Jn=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Mi(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Mi(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Li(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Li(e,this._root).map(t=>t.value)}};function Mi(n,e){if(n===e.value)return e;for(let t of e.children){let r=Mi(n,t);if(r)return r}return null}function Li(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Li(n,t);if(r.length)return r.unshift(e),r}return[]}var z=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function tt(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var Yn=class extends Jn{constructor(e,t){super(e),this.snapshot=t,Wi(this,e)}toString(){return this.snapshot.toString()}};function $a(n){let e=Ql(n),t=new W([new ze("",{})]),r=new W({}),i=new W({}),s=new W({}),o=new W(""),c=new Ne(t,r,s,o,i,I,n,e.root);return c.snapshot=e.root,new Yn(new z(c,[]),e)}function Ql(n){let e={},t={},r={},i="",s=new rt([],e,r,i,t,I,n,null,{});return new Zn("",new z(s,[]))}var Ne=class{constructor(e,t,r,i,s,o,c,a){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=c,this._futureSnapshot=a,this.title=this.dataSubject?.pipe(b(u=>u[Xt]))??m(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(b(e=>st(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(b(e=>st(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Xn(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:f(f({},e.params),n.params),data:f(f({},e.data),n.data),resolve:f(f(f(f({},n.data),e.data),i?.data),n._resolvedData)}:r={params:f({},n.params),data:f({},n.data),resolve:f(f({},n.data),n._resolvedData??{})},i&&za(i)&&(r.resolve[Xt]=i.title),r}var rt=class{get title(){return this.data?.[Xt]}constructor(e,t,r,i,s,o,c,a,u){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=c,this.routeConfig=a,this._resolve=u}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=st(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=st(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},Zn=class extends Jn{constructor(e,t){super(t),this.url=e,Wi(this,t)}toString(){return Va(this._root)}};function Wi(n,e){e.value._routerState=n,e.children.forEach(t=>Wi(n,t))}function Va(n){let e=n.children.length>0?` { ${n.children.map(Va).join(", ")} } `:"";return`${n.value}${e}`}function mi(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,te(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),te(e.params,t.params)||n.paramsSubject.next(t.params),Sl(e.url,t.url)||n.urlSubject.next(t.url),te(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Ui(n,e){let t=te(n.params,e.params)&&Pl(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||Ui(n.parent,e.parent))}function za(n){return typeof n.title=="string"||n.title===null}var ed=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=I,this.activateEvents=new St,this.deactivateEvents=new St,this.attachEvents=new St,this.detachEvents=new St,this.parentContexts=p(en),this.location=p(ko),this.changeDetector=p(Qr),this.inputBinder=p(nr,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new P(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new P(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new P(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new P(4013,!1);this._activatedRoute=t;let i=this.location,o=t.snapshot.component,c=this.parentContexts.getOrCreateContext(this.name).children,a=new xi(t,c,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:a,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Hr({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[qr]})}}return n})(),xi=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ne?this.route:e===en?this.childContexts:this.parent.get(e,t)}},nr=new A(""),wa=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=wn([r.queryParams,r.params,r.data]).pipe($(([s,o,c],a)=>(c=f(f(f({},s),o),c),a===0?m(c):Promise.resolve(c)))).subscribe(s=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let o=Wo(r.component);if(!o){this.unsubscribeFromRouteData(t);return}for(let{templateName:c}of o.inputs)t.activatedComponentRef.setInput(c,s[c])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=T({token:n,factory:n.\u0275fac})}}return n})();function td(n,e,t){let r=qt(n,e._root,t?t._root:void 0);return new Yn(r,e)}function qt(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=nd(n,e,t);return new z(r,i)}else{if(n.shouldAttach(e.value)){let s=n.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(c=>qt(n,c)),o}}let r=rd(e.value),i=e.children.map(s=>qt(n,s));return new z(r,i)}}function nd(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return qt(n,r,i);return qt(n,r)})}function rd(n){return new Ne(new W(n.url),new W(n.params),new W(n.queryParams),new W(n.fragment),new W(n.data),n.outlet,n.component,n)}var Gt=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},Ba="ngNavigationCancelingError";function Qn(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=We(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=Wa(!1,B.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function Wa(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[Ba]=!0,t.cancellationCode=e,t}function id(n){return Ha(n)&&We(n.url)}function Ha(n){return!!n&&n[Ba]}var sd=(n,e,t,r)=>b(i=>(new Fi(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Fi=class{constructor(e,t,r,i,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),mi(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=tt(t);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,t,o.children)}else this.deactivateChildRoutes(e,t,r);else s&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=tt(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),c=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:c})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,s=tt(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=tt(t);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Ni(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Pi(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,s=t?t.value:null;if(mi(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,o.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let c=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(c.contexts),o.attachRef=c.componentRef,o.route=c.route.value,o.outlet&&o.outlet.attach(c.componentRef,c.route.value),mi(c.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},er=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},it=class{constructor(e,t){this.component=e,this.route=t}};function od(n,e,t){let r=n._root,i=e?e._root:null;return Ft(r,i,t,[r.value])}function ad(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function lt(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Eo(n)?n:e.get(n):r}function Ft(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=tt(e);return n.children.forEach(o=>{cd(o,s[o.value.outlet],t,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,c])=>zt(c,t.getContext(o),i)),i}function cd(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=n.value,o=e?e.value:null,c=t?t.getContext(n.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let a=ud(o,s,s.routeConfig.runGuardsAndResolvers);a?i.canActivateChecks.push(new er(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?Ft(n,e,c?c.children:null,r,i):Ft(n,e,t,r,i),a&&c&&c.outlet&&c.outlet.isActivated&&i.canDeactivateChecks.push(new it(c.outlet.component,o))}else o&&zt(e,c,i),i.canActivateChecks.push(new er(r)),s.component?Ft(n,null,c?c.children:null,r,i):Ft(n,null,t,r,i);return i}function ud(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Be(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Be(n.url,e.url)||!te(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ui(n,e)||!te(n.queryParams,e.queryParams);case"paramsChange":default:return!Ui(n,e)}}function zt(n,e,t){let r=tt(n),i=n.value;Object.entries(r).forEach(([s,o])=>{i.component?e?zt(o,e.children.getContext(s),t):zt(o,null,t):zt(o,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new it(e.outlet.component,i)):t.canDeactivateChecks.push(new it(null,i)):t.canDeactivateChecks.push(new it(null,i))}function tn(n){return typeof n=="function"}function ld(n){return typeof n=="boolean"}function dd(n){return n&&tn(n.canLoad)}function hd(n){return n&&tn(n.canActivate)}function fd(n){return n&&tn(n.canActivateChild)}function pd(n){return n&&tn(n.canDeactivate)}function gd(n){return n&&tn(n.canMatch)}function qa(n){return n instanceof po||n?.name==="EmptyError"}var $n=Symbol("INITIAL_VALUE");function ut(){return $(n=>wn(n.map(e=>e.pipe(Xe(1),Io($n)))).pipe(b(e=>{for(let t of e)if(t!==!0){if(t===$n)return $n;if(t===!1||md(t))return t}return!0}),ce(e=>e!==$n),Xe(1)))}function md(n){return We(n)||n instanceof Gt}function vd(n,e){return j(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=t;return o.length===0&&s.length===0?m(M(f({},t),{guardsResult:!0})):yd(o,r,i,n).pipe(j(c=>c&&ld(c)?Id(r,s,n,e):m(c)),b(c=>M(f({},t),{guardsResult:c})))})}function yd(n,e,t,r){return L(n).pipe(j(i=>bd(i.component,i.route,t,e,r)),Ae(i=>i!==!0,!0))}function Id(n,e,t,r){return L(e).pipe(Se(i=>go(Ed(i.route.parent,r),wd(i.route,r),Td(n,i.path,t),_d(n,i.route,t))),Ae(i=>i!==!0,!0))}function wd(n,e){return n!==null&&e&&e(new Di(n)),m(!0)}function Ed(n,e){return n!==null&&e&&e(new Oi(n)),m(!0)}function _d(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return m(!0);let i=r.map(s=>Vr(()=>{let o=Qt(e)??t,c=lt(s,o),a=hd(c)?c.canActivate(e,n):H(o,()=>c(e,n));return ke(a).pipe(Ae())}));return m(i).pipe(ut())}function Td(n,e,t){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>ad(o)).filter(o=>o!==null).map(o=>Vr(()=>{let c=o.guards.map(a=>{let u=Qt(o.node)??t,d=lt(a,u),h=fd(d)?d.canActivateChild(r,n):H(u,()=>d(r,n));return ke(h).pipe(Ae())});return m(c).pipe(ut())}));return m(s).pipe(ut())}function bd(n,e,t,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return m(!0);let o=s.map(c=>{let a=Qt(e)??i,u=lt(c,a),d=pd(u)?u.canDeactivate(n,e,t,r):H(a,()=>u(n,e,t,r));return ke(d).pipe(Ae())});return m(o).pipe(ut())}function Rd(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return m(!0);let s=i.map(o=>{let c=lt(o,n),a=dd(c)?c.canLoad(e,t):H(n,()=>c(e,t));return ke(a)});return m(s).pipe(ut(),Ga(r))}function Ga(n){return uo(D(e=>{if(typeof e!="boolean")throw Qn(n,e)}),b(e=>e===!0))}function Sd(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return m(!0);let s=i.map(o=>{let c=lt(o,n),a=gd(c)?c.canMatch(e,t):H(n,()=>c(e,t));return ke(a)});return m(s).pipe(ut(),Ga(r))}var Kt=class{constructor(e){this.segmentGroup=e||null}},Jt=class extends Error{constructor(e){super(),this.urlTree=e}};function et(n){return bt(new Kt(n))}function Ad(n){return bt(new P(4e3,!1))}function Cd(n){return bt(Wa(!1,B.GuardRejected))}var ji=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return m(r);if(i.numberOfChildren>1||!i.children[I])return Ad(`${e.redirectTo}`);i=i.children[I]}}applyRedirectCommands(e,t,r,i,s){if(typeof t!="string"){let c=t,{queryParams:a,fragment:u,routeConfig:d,url:h,outlet:g,params:y,data:S,title:_}=i,w=H(s,()=>c({params:y,data:S,queryParams:a,fragment:u,routeConfig:d,url:h,outlet:g,title:_}));if(w instanceof fe)throw new Jt(w);t=w}let o=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new Jt(o);return o}applyRedirectCreateUrlTree(e,t,r,i){let s=this.createSegmentGroup(e,t.root,r,i);return new fe(s,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let c=s.substring(1);r[i]=t[c]}else r[i]=s}),r}createSegmentGroup(e,t,r,i){let s=this.createSegments(e,t.segments,r,i),o={};return Object.entries(t.children).forEach(([c,a])=>{o[c]=this.createSegmentGroup(e,a,r,i)}),new R(s,o)}createSegments(e,t,r,i){return t.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new P(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},$i={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Od(n,e,t,r,i){let s=Ka(n,e,t);return s.matched?(r=Xl(e,r),Sd(r,e,t,i).pipe(b(o=>o===!0?s:f({},$i)))):m(s)}function Ka(n,e,t){if(e.path==="**")return Pd(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?f({},$i):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||Rl)(t,n,e);if(!i)return f({},$i);let s={};Object.entries(i.posParams??{}).forEach(([c,a])=>{s[c]=a.path});let o=i.consumed.length>0?f(f({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function Pd(n){return{matched:!0,parameters:n.length>0?Aa(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function Ea(n,e,t,r){return t.length>0&&kd(n,t,r)?{segmentGroup:new R(e,Nd(r,new R(t,n.children))),slicedSegments:[]}:t.length===0&&Md(n,t,r)?{segmentGroup:new R(n.segments,Dd(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new R(n.segments,n.children),slicedSegments:t}}function Dd(n,e,t,r){let i={};for(let s of t)if(rr(n,e,s)&&!r[Y(s)]){let o=new R([],{});i[Y(s)]=o}return f(f({},r),i)}function Nd(n,e){let t={};t[I]=e;for(let r of n)if(r.path===""&&Y(r)!==I){let i=new R([],{});t[Y(r)]=i}return t}function kd(n,e,t){return t.some(r=>rr(n,e,r)&&Y(r)!==I)}function Md(n,e,t){return t.some(r=>rr(n,e,r))}function rr(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function Ld(n,e,t){return e.length===0&&!n.children[t]}var Vi=class{};function Ud(n,e,t,r,i,s,o="emptyOnly"){return new zi(n,e,t,r,i,o,s).recognize()}var xd=31,zi=class{constructor(e,t,r,i,s,o,c){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=c,this.applyRedirects=new ji(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new P(4002,`'${e.segmentGroup}'`)}recognize(){let e=Ea(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(b(({children:t,rootSnapshot:r})=>{let i=new z(r,t),s=new Zn("",i),o=Wl(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let t=new rt([],Object.freeze({}),Object.freeze(f({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),I,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,I,t).pipe(b(r=>({children:r,rootSnapshot:t})),Ye(r=>{if(r instanceof Jt)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Kt?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,s):this.processSegment(e,t,r,r.segments,i,!0,s).pipe(b(o=>o instanceof z?[o]:[]))}processChildren(e,t,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return L(s).pipe(Se(o=>{let c=r.children[o],a=Zl(t,o);return this.processSegmentGroup(e,a,c,o,i)}),yo((o,c)=>(o.push(...c),o)),zr(null),vo(),j(o=>{if(o===null)return et(r);let c=Ja(o);return Fd(c),m(c)}))}processSegment(e,t,r,i,s,o,c){return L(t).pipe(Se(a=>this.processSegmentAgainstRoute(a._injector??e,t,a,r,i,s,o,c).pipe(Ye(u=>{if(u instanceof Kt)return m(null);throw u}))),Ae(a=>!!a),Ye(a=>{if(qa(a))return Ld(r,i,s)?m(new Vi):et(r);throw a}))}processSegmentAgainstRoute(e,t,r,i,s,o,c,a){return Y(r)!==o&&(o===I||!rr(i,s,r))?et(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,a):this.allowRedirects&&c?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,s,o,a):et(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,s,o,c){let{matched:a,parameters:u,consumedSegments:d,positionalParamSegments:h,remainingSegments:g}=Ka(t,i,s);if(!a)return et(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>xd&&(this.allowRedirects=!1));let y=new rt(s,u,Object.freeze(f({},this.urlTree.queryParams)),this.urlTree.fragment,_a(i),Y(i),i.component??i._loadedComponent??null,i,Ta(i)),S=Xn(y,c,this.paramsInheritanceStrategy);y.params=Object.freeze(S.params),y.data=Object.freeze(S.data);let _=this.applyRedirects.applyRedirectCommands(d,i.redirectTo,h,y,e);return this.applyRedirects.lineralizeSegments(i,_).pipe(j(w=>this.processSegment(e,r,t,w.concat(g),o,!1,c)))}matchSegmentAgainstRoute(e,t,r,i,s,o){let c=Od(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),c.pipe($(a=>a.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe($(({routes:u})=>{let d=r._loadedInjector??e,{parameters:h,consumedSegments:g,remainingSegments:y}=a,S=new rt(g,h,Object.freeze(f({},this.urlTree.queryParams)),this.urlTree.fragment,_a(r),Y(r),r.component??r._loadedComponent??null,r,Ta(r)),_=Xn(S,o,this.paramsInheritanceStrategy);S.params=Object.freeze(_.params),S.data=Object.freeze(_.data);let{segmentGroup:w,slicedSegments:k}=Ea(t,g,y,u);if(k.length===0&&w.hasChildren())return this.processChildren(d,u,w,S).pipe(b(O=>new z(S,O)));if(u.length===0&&k.length===0)return m(new z(S,[]));let J=Y(r)===s;return this.processSegment(d,u,w,k,J?I:s,!0,S).pipe(b(O=>new z(S,O instanceof z?[O]:[])))}))):et(t)))}getChildConfig(e,t,r){return t.children?m({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?m({routes:t._loadedRoutes,injector:t._loadedInjector}):Rd(e,t,r,this.urlSerializer).pipe(j(i=>i?this.configLoader.loadChildren(e,t).pipe(D(s=>{t._loadedRoutes=s.routes,t._loadedInjector=s.injector})):Cd(t))):m({routes:[],injector:e})}};function Fd(n){n.sort((e,t)=>e.value.outlet===I?-1:t.value.outlet===I?1:e.value.outlet.localeCompare(t.value.outlet))}function jd(n){let e=n.value.routeConfig;return e&&e.path===""}function Ja(n){let e=[],t=new Set;for(let r of n){if(!jd(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=Ja(r.children);e.push(new z(r.value,i))}return e.filter(r=>!t.has(r))}function _a(n){return n.data||{}}function Ta(n){return n.resolve||{}}function $d(n,e,t,r,i,s){return j(o=>Ud(n,e,t,r,o.extractedUrl,i,s).pipe(b(({state:c,tree:a})=>M(f({},o),{targetSnapshot:c,urlAfterRedirects:a}))))}function Vd(n,e){return j(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return m(t);let s=new Set(i.map(a=>a.route)),o=new Set;for(let a of s)if(!o.has(a))for(let u of Ya(a))o.add(u);let c=0;return L(o).pipe(Se(a=>s.has(a)?zd(a,r,n,e):(a.data=Xn(a,a.parent,n).resolve,m(void 0))),D(()=>c++),Br(1),j(a=>c===o.size?m(t):Re))})}function Ya(n){let e=n.children.map(t=>Ya(t)).flat();return[n,...e]}function zd(n,e,t,r){let i=n.routeConfig,s=n._resolve;return i?.title!==void 0&&!za(i)&&(s[Xt]=i.title),Bd(s,n,e,r).pipe(b(o=>(n._resolvedData=o,n.data=Xn(n,n.parent,t).resolve,null)))}function Bd(n,e,t,r){let i=Ii(n);if(i.length===0)return m({});let s={};return L(i).pipe(j(o=>Wd(n[o],e,t,r).pipe(Ae(),D(c=>{if(c instanceof Gt)throw Qn(new ot,c);s[o]=c}))),Br(1),mo(s),Ye(o=>qa(o)?Re:bt(o)))}function Wd(n,e,t,r){let i=Qt(e)??r,s=lt(n,i),o=s.resolve?s.resolve(e,t):H(i,()=>s(e,t));return ke(o)}function vi(n){return $(e=>{let t=n(e);return t?L(t).pipe(b(()=>e)):m(e)})}var Xa=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===I);return r}getResolvedTitleForRoute(t){return t.data[Xt]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=T({token:n,factory:()=>p(Hd),providedIn:"root"})}}return n})(),Hd=(()=>{class n extends Xa{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(E(ga))}}static{this.\u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nn=new A("",{providedIn:"root",factory:()=>({})}),qd=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=To({type:n,selectors:[["ng-component"]],standalone:!0,features:[$o],decls:1,vars:0,template:function(r,i){r&1&&Fo(0,"router-outlet")},dependencies:[ed],encapsulation:2})}}return n})();function Hi(n){let e=n.children&&n.children.map(Hi),t=e?M(f({},n),{children:e}):f({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==I&&(t.component=qd),t}var Yt=new A(""),qi=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=p(Cn)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return m(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=ke(t.loadComponent()).pipe(b(Za),D(s=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=s}),Ze(()=>{this.componentLoaders.delete(t)})),i=new xr(r,()=>new be).pipe(Ur());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return m({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=Gd(r,this.compiler,t,this.onLoadEndListener).pipe(Ze(()=>{this.childrenLoaders.delete(r)})),o=new xr(s,()=>new be).pipe(Ur());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Gd(n,e,t,r){return ke(n.loadChildren()).pipe(b(Za),j(i=>i instanceof Lo||Array.isArray(i)?m(i):L(e.compileModuleAsync(i))),b(i=>{r&&r(n);let s,o,c=!1;return Array.isArray(i)?(o=i,c=!0):(s=i.create(t).injector,o=s.get(Yt,[],{optional:!0,self:!0}).flat()),{routes:o.map(Hi),injector:s}}))}function Kd(n){return n&&typeof n=="object"&&"default"in n}function Za(n){return Kd(n)?n.default:n}var Gi=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=T({token:n,factory:()=>p(Jd),providedIn:"root"})}}return n})(),Jd=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Qa=new A(""),ec=new A("");function Yd(n,e,t){let r=n.get(ec),i=n.get(V);return n.get(U).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(u=>setTimeout(u));let s,o=new Promise(u=>{s=u}),c=i.startViewTransition(()=>(s(),Xd(n))),{onViewTransitionCreated:a}=r;return a&&H(n,()=>a({transition:c,from:e,to:t})),o})}function Xd(n){return new Promise(e=>{Uo({read:()=>setTimeout(e)},{injector:n})})}var Zd=new A(""),Ki=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new be,this.transitionAbortSubject=new be,this.configLoader=p(qi),this.environmentInjector=p($e),this.urlSerializer=p(Zt),this.rootContexts=p(en),this.location=p(Ot),this.inputBindingEnabled=p(nr,{optional:!0})!==null,this.titleStrategy=p(Xa),this.options=p(nn,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=p(Gi),this.createViewTransition=p(Qa,{optional:!0}),this.navigationErrorHandler=p(Zd,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>m(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Ai(i)),r=i=>this.events.next(new Ci(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(M(f(f({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new W({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Vt,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ce(s=>s.id!==0),b(s=>M(f({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),$(s=>{let o=!1,c=!1;return m(s).pipe($(a=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",B.SupersededByNewNavigation),Re;this.currentTransition=s,this.currentNavigation={id:a.id,initialUrl:a.rawUrl,extractedUrl:a.extractedUrl,targetBrowserUrl:typeof a.extras.browserUrl=="string"?this.urlSerializer.parse(a.extras.browserUrl):a.extras.browserUrl,trigger:a.source,extras:a.extras,previousNavigation:this.lastSuccessfulNavigation?M(f({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let u=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),d=a.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!u&&d!=="reload"){let h="";return this.events.next(new De(a.id,this.urlSerializer.serialize(a.rawUrl),h,qn.IgnoredSameUrlNavigation)),a.resolve(!1),Re}if(this.urlHandlingStrategy.shouldProcessUrl(a.rawUrl))return m(a).pipe($(h=>{let g=this.transitions?.getValue();return this.events.next(new at(h.id,this.urlSerializer.serialize(h.extractedUrl),h.source,h.restoredState)),g!==this.transitions?.getValue()?Re:Promise.resolve(h)}),$d(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),D(h=>{s.targetSnapshot=h.targetSnapshot,s.urlAfterRedirects=h.urlAfterRedirects,this.currentNavigation=M(f({},this.currentNavigation),{finalUrl:h.urlAfterRedirects});let g=new Gn(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(g)}));if(u&&this.urlHandlingStrategy.shouldProcessUrl(a.currentRawUrl)){let{id:h,extractedUrl:g,source:y,restoredState:S,extras:_}=a,w=new at(h,this.urlSerializer.serialize(g),y,S);this.events.next(w);let k=$a(this.rootComponentType).snapshot;return this.currentTransition=s=M(f({},a),{targetSnapshot:k,urlAfterRedirects:g,extras:M(f({},_),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=g,m(s)}else{let h="";return this.events.next(new De(a.id,this.urlSerializer.serialize(a.extractedUrl),h,qn.IgnoredByUrlHandlingStrategy)),a.resolve(!1),Re}}),D(a=>{let u=new Ti(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot);this.events.next(u)}),b(a=>(this.currentTransition=s=M(f({},a),{guards:od(a.targetSnapshot,a.currentSnapshot,this.rootContexts)}),s)),vd(this.environmentInjector,a=>this.events.next(a)),D(a=>{if(s.guardsResult=a.guardsResult,a.guardsResult&&typeof a.guardsResult!="boolean")throw Qn(this.urlSerializer,a.guardsResult);let u=new bi(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects),a.targetSnapshot,!!a.guardsResult);this.events.next(u)}),ce(a=>a.guardsResult?!0:(this.cancelNavigationTransition(a,"",B.GuardRejected),!1)),vi(a=>{if(a.guards.canActivateChecks.length)return m(a).pipe(D(u=>{let d=new Ri(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),$(u=>{let d=!1;return m(u).pipe(Vd(this.paramsInheritanceStrategy,this.environmentInjector),D({next:()=>d=!0,complete:()=>{d||this.cancelNavigationTransition(u,"",B.NoDataFromResolver)}}))}),D(u=>{let d=new Si(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}))}),vi(a=>{let u=d=>{let h=[];d.routeConfig?.loadComponent&&!d.routeConfig._loadedComponent&&h.push(this.configLoader.loadComponent(d.routeConfig).pipe(D(g=>{d.component=g}),b(()=>{})));for(let g of d.children)h.push(...u(g));return h};return wn(u(a.targetSnapshot.root)).pipe(zr(null),Xe(1))}),vi(()=>this.afterPreactivation()),$(()=>{let{currentSnapshot:a,targetSnapshot:u}=s,d=this.createViewTransition?.(this.environmentInjector,a.root,u.root);return d?L(d).pipe(b(()=>s)):m(s)}),b(a=>{let u=td(t.routeReuseStrategy,a.targetSnapshot,a.currentRouterState);return this.currentTransition=s=M(f({},a),{targetRouterState:u}),this.currentNavigation.targetRouterState=u,s}),D(()=>{this.events.next(new Ht)}),sd(this.rootContexts,t.routeReuseStrategy,a=>this.events.next(a),this.inputBindingEnabled),Xe(1),D({next:a=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new ne(a.id,this.urlSerializer.serialize(a.extractedUrl),this.urlSerializer.serialize(a.urlAfterRedirects))),this.titleStrategy?.updateTitle(a.targetRouterState.snapshot),a.resolve(!0)},complete:()=>{o=!0}}),wo(this.transitionAbortSubject.pipe(D(a=>{throw a}))),Ze(()=>{!o&&!c&&this.cancelNavigationTransition(s,"",B.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),Ye(a=>{if(c=!0,Ha(a))this.events.next(new he(s.id,this.urlSerializer.serialize(s.extractedUrl),a.message,a.cancellationCode)),id(a)?this.events.next(new ct(a.url,a.navigationBehaviorOptions)):s.resolve(!1);else{let u=new Wt(s.id,this.urlSerializer.serialize(s.extractedUrl),a,s.targetSnapshot??void 0);try{let d=H(this.environmentInjector,()=>this.navigationErrorHandler?.(u));if(d instanceof Gt){let{message:h,cancellationCode:g}=Qn(this.urlSerializer,d);this.events.next(new he(s.id,this.urlSerializer.serialize(s.extractedUrl),h,g)),this.events.next(new ct(d.redirectTo,d.navigationBehaviorOptions))}else{this.events.next(u);let h=t.errorHandler(a);s.resolve(!!h)}}catch(d){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(d)}}return Re}))}))}cancelNavigationTransition(t,r,i){let s=new he(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(s),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Qd(n){return n!==Vt}var eh=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=T({token:n,factory:()=>p(th),providedIn:"root"})}}return n})(),Bi=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},th=(()=>{class n extends Bi{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Gr(n)))(i||n)}})()}static{this.\u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),tc=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=T({token:n,factory:()=>p(nh),providedIn:"root"})}}return n})(),nh=(()=>{class n extends tc{constructor(){super(...arguments),this.location=p(Ot),this.urlSerializer=p(Zt),this.options=p(nn,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=p(Gi),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new fe,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=$a(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof at)this.stateMemento=this.createStateMemento();else if(t instanceof De)this.rawUrlTree=r.initialUrl;else if(t instanceof Gn){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof Ht?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof he&&(t.code===B.GuardRejected||t.code===B.NoDataFromResolver)?this.restoreHistory(r):t instanceof Wt?this.restoreHistory(r,!0):t instanceof ne&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof fe?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=f(f({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=f(f({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===t.finalUrl&&s===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=Gr(n)))(i||n)}})()}static{this.\u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),jt=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(jt||{});function nc(n,e){n.events.pipe(ce(t=>t instanceof ne||t instanceof he||t instanceof Wt||t instanceof De),b(t=>t instanceof ne||t instanceof De?jt.COMPLETE:(t instanceof he?t.code===B.Redirect||t.code===B.SupersededByNewNavigation:!1)?jt.REDIRECTING:jt.FAILED),ce(t=>t!==jt.REDIRECTING),Xe(1)).subscribe(()=>{e()})}function rh(n){throw n}var ih={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},sh={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},pe=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=p(Rn),this.stateManager=p(tc),this.options=p(nn,{optional:!0})||{},this.pendingTasks=p(Tn),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=p(Ki),this.urlSerializer=p(Zt),this.location=p(Ot),this.urlHandlingStrategy=p(Gi),this._events=new be,this.errorHandler=this.options.errorHandler||rh,this.navigated=!1,this.routeReuseStrategy=p(eh),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=p(Yt,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!p(nr,{optional:!0}),this.eventsSubscription=new co,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof he&&r.code!==B.Redirect&&r.code!==B.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof ne)this.navigated=!0;else if(r instanceof ct){let o=r.navigationBehaviorOptions,c=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),a=f({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Qd(i.source)},o);this.scheduleNavigation(c,Vt,null,a,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}ah(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Vt,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let a=f({},i);delete a.navigationId,delete a.\u0275routerPageId,Object.keys(a).length!==0&&(s.state=a)}let c=this.parseUrl(t);this.scheduleNavigation(c,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(Hi),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:c,preserveFragment:a}=r,u=a?this.currentUrlTree.fragment:o,d=null;switch(c??this.options.defaultQueryParamsHandling){case"merge":d=f(f({},this.currentUrlTree.queryParams),s);break;case"preserve":d=this.currentUrlTree.queryParams;break;default:d=s||null}d!==null&&(d=this.removeEmptyProps(d));let h;try{let g=i?i.snapshot:this.routerState.snapshot.root;h=Ua(g)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),h=this.currentUrlTree.root}return xa(h,t,d,u??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=We(t)?t:this.parseUrl(t),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,Vt,null,r)}navigate(t,r={skipLocationChange:!1}){return oh(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=f({},ih):r===!1?i=f({},sh):i=r,We(t))return ma(this.currentUrlTree,t,i);let s=this.parseUrl(t);return ma(this.currentUrlTree,s,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(t,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let c,a,u;o?(c=o.resolve,a=o.reject,u=o.promise):u=new Promise((h,g)=>{c=h,a=g});let d=this.pendingTasks.add();return nc(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(d))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:s,resolve:c,reject:a,promise:u,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),u.catch(h=>Promise.reject(h))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function oh(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new P(4008,!1)}function ah(n){return!(n instanceof Ht)&&!(n instanceof ct)}var Vv=(()=>{class n{constructor(t,r,i,s,o,c){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=c,this.href=null,this.onChanges=new be,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let a=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=a==="a"||a==="area",this.isAnchorElement?this.subscription=t.events.subscribe(u=>{u instanceof ne&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(We(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,s,o){let c=this.urlTree;if(c===null||this.isAnchorElement&&(t!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let a={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(c,a),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:Oo(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,t,r):i.removeAttribute(s,t)}get urlTree(){return this.routerLinkInput===null?null:We(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(Qe(pe),Qe(Ne),Ro("tabindex"),Qe(No),Qe(So),Qe(Ct))}}static{this.\u0275dir=Hr({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&jo("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&xo("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",On],skipLocationChange:[2,"skipLocationChange","skipLocationChange",On],replaceUrl:[2,"replaceUrl","replaceUrl",On],routerLink:"routerLink"},standalone:!0,features:[Mo,qr]})}}return n})();var tr=class{};var ch=(()=>{class n{constructor(t,r,i,s,o){this.router=t,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(ce(t=>t instanceof ne),Se(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Xr(s.providers,t,`Route: ${s.path}`));let o=s._injector??t,c=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(c,s.children??s._loadedRoutes))}return L(i).pipe($r())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=m(null);let s=i.pipe(j(o=>o===null?m(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??t,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return L([s,o]).pipe($r())}else return s})}static{this.\u0275fac=function(r){return new(r||n)(E(pe),E(Cn),E($e),E(tr),E(qi))}}static{this.\u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),rc=new A(""),uh=(()=>{class n{constructor(t,r,i,s,o={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof at?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof ne?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof De&&t.code===qn.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Kn&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Kn(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){Po()}}static{this.\u0275prov=T({token:n,factory:n.\u0275fac})}}return n})();function zv(n,...e){return ue([{provide:Yt,multi:!0,useValue:n},[],{provide:Ne,useFactory:ic,deps:[pe]},{provide:Sn,multi:!0,useFactory:sc},e.map(t=>t.\u0275providers)])}function ic(n){return n.routerState.root}function rn(n,e){return{\u0275kind:n,\u0275providers:e}}function sc(){let n=p(Ve);return e=>{let t=n.get(An);if(e!==t.components[0])return;let r=n.get(pe),i=n.get(oc);n.get(Ji)===1&&r.initialNavigation(),n.get(ac,null,Wr.Optional)?.setUpPreloading(),n.get(rc,null,Wr.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var oc=new A("",{factory:()=>new be}),Ji=new A("",{providedIn:"root",factory:()=>1});function lh(){return rn(2,[{provide:Ji,useValue:0},{provide:Zr,multi:!0,deps:[Ve],useFactory:e=>{let t=e.get(Go,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(pe),s=e.get(oc);nc(i,()=>{r(!0)}),e.get(Ki).afterPreactivation=()=>(r(!0),s.closed?m(void 0):s),i.initialNavigation()}))}}])}function dh(){return rn(3,[{provide:Zr,multi:!0,useFactory:()=>{let e=p(pe);return()=>{e.setUpLocationChangeListener()}}},{provide:Ji,useValue:2}])}var ac=new A("");function hh(n){return rn(0,[{provide:ac,useExisting:ch},{provide:tr,useExisting:n}])}function fh(){return rn(8,[wa,{provide:nr,useExisting:wa}])}function ph(n){let e=[{provide:Qa,useValue:Yd},{provide:ec,useValue:f({skipNextTransition:!!n?.skipInitialTransition},n)}];return rn(9,e)}var ba=new A("ROUTER_FORROOT_GUARD"),gh=[Ot,{provide:Zt,useClass:ot},pe,en,{provide:Ne,useFactory:ic,deps:[pe]},qi,[]],Bv=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[gh,[],{provide:Yt,multi:!0,useValue:t},{provide:ba,useFactory:Ih,deps:[[pe,new ee,new _o]]},{provide:nn,useValue:r||{}},r?.useHash?vh():yh(),mh(),r?.preloadingStrategy?hh(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?wh(r):[],r?.bindToComponentInputs?fh().\u0275providers:[],r?.enableViewTransitions?ph().\u0275providers:[],Eh()]}}static forChild(t){return{ngModule:n,providers:[{provide:Yt,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(E(ba,8))}}static{this.\u0275mod=_n({type:n})}static{this.\u0275inj=En({})}}return n})();function mh(){return{provide:rc,useFactory:()=>{let n=p(Xo),e=p(U),t=p(nn),r=p(Ki),i=p(Zt);return t.scrollOffset&&n.setOffset(t.scrollOffset),new uh(i,r,n,e,t)}}}function vh(){return{provide:Ct,useClass:Jo}}function yh(){return{provide:Ct,useClass:Ko}}function Ih(n){return"guarded"}function wh(n){return[n.initialNavigation==="disabled"?dh().\u0275providers:[],n.initialNavigation==="enabledBlocking"?lh().\u0275providers:[]]}var Ra=new A("");function Eh(){return[{provide:Ra,useFactory:sc},{provide:Sn,multi:!0,useExisting:Ra}]}var uc=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},_h=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=n[t++],o=n[t++],c=n[t++],a=((i&7)<<18|(s&63)<<12|(o&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(a>>10)),e[r++]=String.fromCharCode(56320+(a&1023))}else{let s=n[t++],o=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},lc={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let s=n[i],o=i+1<n.length,c=o?n[i+1]:0,a=i+2<n.length,u=a?n[i+2]:0,d=s>>2,h=(s&3)<<4|c>>4,g=(c&15)<<2|u>>6,y=u&63;a||(y=64,o||(g=64)),r.push(t[d],t[h],t[g],t[y])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(uc(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):_h(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;let u=i<n.length?t[n.charAt(i)]:64;++i;let h=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||u==null||h==null)throw new Xi;let g=s<<2|c>>4;if(r.push(g),u!==64){let y=c<<4&240|u>>2;if(r.push(y),h!==64){let S=u<<6&192|h;r.push(S)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},Xi=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Th=function(n){let e=uc(n);return lc.encodeByteArray(e,!0)},sn=function(n){return Th(n).replace(/\./g,"")},Qi=function(n){try{return lc.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function bh(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Rh=()=>bh().__FIREBASE_DEFAULTS__,Sh=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Ah=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Qi(n[1]);return e&&JSON.parse(e)},es=()=>{try{return Rh()||Sh()||Ah()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},ts=n=>{var e,t;return(t=(e=es())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},qv=n=>{let e=ts(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ns=()=>{var n;return(n=es())===null||n===void 0?void 0:n.config},rs=n=>{var e;return(e=es())===null||e===void 0?void 0:e[`_${n}`]};var ir=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function Gv(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[sn(JSON.stringify(t)),sn(JSON.stringify(o)),""].join(".")}function x(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function dc(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(x())}function hc(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function fc(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function pc(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function gc(){let n=x();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function mc(){try{return typeof indexedDB=="object"}catch{return!1}}function vc(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}var Ch="FirebaseError",X=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Ch,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ge.prototype.create)}},ge=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?Oh(s,r):"Error",c=`${this.serviceName}: ${o} (${i}).`;return new X(i,c,r)}};function Oh(n,e){return n.replace(Ph,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var Ph=/\{\$([^}]+)}/g;function yc(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function dt(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let s=n[i],o=e[i];if(cc(s)&&cc(o)){if(!dt(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function cc(n){return n!==null&&typeof n=="object"}function ht(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ft(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function pt(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Ic(n,e){let t=new Zi(n,e);return t.subscribe.bind(t)}var Zi=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Dh(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=Yi),i.error===void 0&&(i.error=Yi),i.complete===void 0&&(i.complete=Yi);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function Dh(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function Yi(){}var Kv=4*60*60*1e3;function re(n){return n&&n._delegate?n._delegate:n}var ie=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var He="[DEFAULT]";var is=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new ir;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kh(e))try{this.getOrInitializeService({instanceIdentifier:He})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=He){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return l(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=He){return this.instances.has(e)}getOptions(e=He){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[s,o]of this.instancesDeferred.entries()){let c=this.normalizeInstanceIdentifier(s);r===c&&o.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Nh(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=He){return this.component?this.component.multipleInstances?e:He:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Nh(n){return n===He?void 0:n}function kh(n){return n.instantiationMode==="EAGER"}var sr=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new is(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var Mh=[],C=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(C||{}),Lh={debug:C.DEBUG,verbose:C.VERBOSE,info:C.INFO,warn:C.WARN,error:C.ERROR,silent:C.SILENT},Uh=C.INFO,xh={[C.DEBUG]:"log",[C.VERBOSE]:"log",[C.INFO]:"info",[C.WARN]:"warn",[C.ERROR]:"error"},Fh=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=xh[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},gt=class{constructor(e){this.name=e,this._logLevel=Uh,this._logHandler=Fh,this._userLogHandler=null,Mh.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in C))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Lh[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,C.DEBUG,...e),this._logHandler(this,C.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,C.VERBOSE,...e),this._logHandler(this,C.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,C.INFO,...e),this._logHandler(this,C.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,C.WARN,...e),this._logHandler(this,C.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,C.ERROR,...e),this._logHandler(this,C.ERROR,...e)}};var jh=(n,e)=>e.some(t=>n instanceof t),wc,Ec;function $h(){return wc||(wc=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Vh(){return Ec||(Ec=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var _c=new WeakMap,os=new WeakMap,Tc=new WeakMap,ss=new WeakMap,cs=new WeakMap;function zh(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",o)},s=()=>{t(se(n.result)),i()},o=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",o)});return e.then(t=>{t instanceof IDBCursor&&_c.set(t,n)}).catch(()=>{}),cs.set(e,n),e}function Bh(n){if(os.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",o),n.removeEventListener("abort",o)},s=()=>{t(),i()},o=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",o),n.addEventListener("abort",o)});os.set(n,e)}var as={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return os.get(n);if(e==="objectStoreNames")return n.objectStoreNames||Tc.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return se(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function bc(n){as=n(as)}function Wh(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(or(this),e,...t);return Tc.set(r,e.sort?e.sort():[e]),se(r)}:Vh().includes(n)?function(...e){return n.apply(or(this),e),se(_c.get(this))}:function(...e){return se(n.apply(or(this),e))}}function Hh(n){return typeof n=="function"?Wh(n):(n instanceof IDBTransaction&&Bh(n),jh(n,$h())?new Proxy(n,as):n)}function se(n){if(n instanceof IDBRequest)return zh(n);if(ss.has(n))return ss.get(n);let e=Hh(n);return e!==n&&(ss.set(n,e),cs.set(e,n)),e}var or=n=>cs.get(n);function Sc(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(n,e),c=se(o);return r&&o.addEventListener("upgradeneeded",a=>{r(se(o.result),a.oldVersion,a.newVersion,se(o.transaction),a)}),t&&o.addEventListener("blocked",a=>t(a.oldVersion,a.newVersion,a)),c.then(a=>{s&&a.addEventListener("close",()=>s()),i&&a.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),c}var qh=["get","getKey","getAll","getAllKeys","count"],Gh=["put","add","delete","clear"],us=new Map;function Rc(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(us.get(e))return us.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=Gh.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||qh.includes(t)))return;let s=function(o,...c){return l(this,null,function*(){let a=this.transaction(o,i?"readwrite":"readonly"),u=a.store;return r&&(u=u.index(c.shift())),(yield Promise.all([u[t](...c),i&&a.done]))[0]})};return us.set(e,s),s}bc(n=>M(f({},n),{get:(e,t,r)=>Rc(e,t)||n.get(e,t,r),has:(e,t)=>!!Rc(e,t)||n.has(e,t)}));var ds=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(Kh(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function Kh(n){let e=n.getComponent();return e?.type==="VERSION"}var hs="@firebase/app",Ac="0.10.13";var me=new gt("@firebase/app"),Jh="@firebase/app-compat",Yh="@firebase/analytics-compat",Xh="@firebase/analytics",Zh="@firebase/app-check-compat",Qh="@firebase/app-check",ef="@firebase/auth",tf="@firebase/auth-compat",nf="@firebase/database",rf="@firebase/data-connect",sf="@firebase/database-compat",of="@firebase/functions",af="@firebase/functions-compat",cf="@firebase/installations",uf="@firebase/installations-compat",lf="@firebase/messaging",df="@firebase/messaging-compat",hf="@firebase/performance",ff="@firebase/performance-compat",pf="@firebase/remote-config",gf="@firebase/remote-config-compat",mf="@firebase/storage",vf="@firebase/storage-compat",yf="@firebase/firestore",If="@firebase/vertexai-preview",wf="@firebase/firestore-compat",Ef="firebase",_f="10.14.1";var fs="[DEFAULT]",Tf={[hs]:"fire-core",[Jh]:"fire-core-compat",[Xh]:"fire-analytics",[Yh]:"fire-analytics-compat",[Qh]:"fire-app-check",[Zh]:"fire-app-check-compat",[ef]:"fire-auth",[tf]:"fire-auth-compat",[nf]:"fire-rtdb",[rf]:"fire-data-connect",[sf]:"fire-rtdb-compat",[of]:"fire-fn",[af]:"fire-fn-compat",[cf]:"fire-iid",[uf]:"fire-iid-compat",[lf]:"fire-fcm",[df]:"fire-fcm-compat",[hf]:"fire-perf",[ff]:"fire-perf-compat",[pf]:"fire-rc",[gf]:"fire-rc-compat",[mf]:"fire-gcs",[vf]:"fire-gcs-compat",[yf]:"fire-fst",[wf]:"fire-fst-compat",[If]:"fire-vertex","fire-js":"fire-js",[Ef]:"fire-js-all"};var on=new Map,bf=new Map,ps=new Map;function Cc(n,e){try{n.container.addComponent(e)}catch(t){me.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function mt(n){let e=n.name;if(ps.has(e))return me.debug(`There were multiple attempts to register component ${e}.`),!1;ps.set(e,n);for(let t of on.values())Cc(t,n);for(let t of bf.values())Cc(t,n);return!0}function ys(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function G(n){return n.settings!==void 0}var Rf={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Me=new ge("app","Firebase",Rf);var gs=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ie("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Me.create("app-deleted",{appName:this._name})}};var vt=_f;function Is(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:fs,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Me.create("bad-app-name",{appName:String(i)});if(t||(t=ns()),!t)throw Me.create("no-options");let s=on.get(i);if(s){if(dt(t,s.options)&&dt(r,s.config))return s;throw Me.create("duplicate-app",{appName:i})}let o=new sr(i);for(let a of ps.values())o.addComponent(a);let c=new gs(t,r,o);return on.set(i,c),c}function ar(n=fs){let e=on.get(n);if(!e&&n===fs&&ns())return Is();if(!e)throw Me.create("no-app",{appName:n});return e}function cr(){return Array.from(on.values())}function F(n,e,t){var r;let i=(r=Tf[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&c.push("and"),o&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),me.warn(c.join(" "));return}mt(new ie(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Sf="firebase-heartbeat-database",Af=1,an="firebase-heartbeat-store",ls=null;function Nc(){return ls||(ls=Sc(Sf,Af,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(an)}catch(t){console.warn(t)}}}}).catch(n=>{throw Me.create("idb-open",{originalErrorMessage:n.message})})),ls}function Cf(n){return l(this,null,function*(){try{let t=(yield Nc()).transaction(an),r=yield t.objectStore(an).get(kc(n));return yield t.done,r}catch(e){if(e instanceof X)me.warn(e.message);else{let t=Me.create("idb-get",{originalErrorMessage:e?.message});me.warn(t.message)}}})}function Oc(n,e){return l(this,null,function*(){try{let r=(yield Nc()).transaction(an,"readwrite");yield r.objectStore(an).put(e,kc(n)),yield r.done}catch(t){if(t instanceof X)me.warn(t.message);else{let r=Me.create("idb-set",{originalErrorMessage:t?.message});me.warn(r.message)}}})}function kc(n){return`${n.name}!${n.options.appId}`}var Of=1024,Pf=30*24*60*60*1e3,ms=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new vs(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return l(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Pc();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let c=new Date(o.date).valueOf();return Date.now()-c<=Pf}),this._storage.overwrite(this._heartbeatsCache))}catch(r){me.warn(r)}})}getHeartbeatsHeader(){return l(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=Pc(),{heartbeatsToSend:r,unsentEntries:i}=Df(this._heartbeatsCache.heartbeats),s=sn(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return me.warn(t),""}})}};function Pc(){return new Date().toISOString().substring(0,10)}function Df(n,e=Of){let t=[],r=n.slice();for(let i of n){let s=t.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),Dc(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),Dc(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var vs=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return l(this,null,function*(){return mc()?vc().then(()=>!0).catch(()=>!1):!1})}read(){return l(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Cf(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return l(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Oc(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return l(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return Oc(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function Dc(n){return sn(JSON.stringify({version:2,heartbeats:n})).length}function Nf(n){mt(new ie("platform-logger",e=>new ds(e),"PRIVATE")),mt(new ie("heartbeat",e=>new ms(e),"PRIVATE")),F(hs,Ac,n),F(hs,Ac,"esm2017"),F("fire-js","")}Nf("");var kf="firebase",Mf="10.14.1";F(kf,Mf,"app");var cn=new bn("ANGULARFIRE2_VERSION");function Mc(n,e,t){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===t);if(s.length===1)return s[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Es=(n,e)=>{let t=e?[e]:cr(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},ur=class{constructor(){return Es(Lf)}},Lf="app-check";function yt(){}var lr=class{zone;delegate;constructor(e,t=ho){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,t,r)}},ws=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yt,{},yt,yt)),t.pipe(D({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},dr=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new lr(Zone.current)),this.insideAngular=t.run(()=>new lr(Zone.current,lo)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(E(U))};static \u0275prov=T({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function hr(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function Uf(n){return hr().ngZone.runOutsideAngular(()=>n())}function qe(n){return hr().ngZone.run(()=>n())}function xf(n){return Ff(hr())(n)}function Ff(n){return function(t){return t=t.lift(new ws(n.ngZone)),t.pipe(jr(n.outsideAngular),Fr(n.insideAngular))}}var jf=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),qe(()=>n.apply(void 0,r))},ve=(n,e)=>function(){let t,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(t||=qe(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",yt,{},yt,yt))),r[s]=jf(r[s],t));let i=Uf(()=>n.apply(this,r));if(!e)if(i instanceof Te){let s=hr();return i.pipe(jr(s.outsideAngular),Fr(s.insideAngular))}else return qe(()=>i);return i instanceof Te?i.pipe(xf):i instanceof Promise?qe(()=>new Promise((s,o)=>i.then(c=>qe(()=>s(c)),c=>qe(()=>o(c))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:qe(()=>i)};var Ge=class{constructor(e){return e}},un=class{constructor(){return cr()}};function $f(n){return n&&n.length===1?n[0]:new Ge(ar())}var _s=new A("angularfire2._apps"),Vf={provide:Ge,useFactory:$f,deps:[[new ee,_s]]},zf={provide:un,deps:[[new ee,_s]]};function Bf(n){return(e,t)=>{let r=t.get(le);F("angularfire",cn.full,"core"),F("angularfire",cn.full,"app"),F("angular",Vo.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new Ge(i)}}function My(n,...e){return ue([Vf,zf,{provide:_s,useFactory:Bf(n),multi:!0,deps:[U,Ve,dr,...e]}])}var Ly=ve(Is,!0);function Xc(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var Zc=Xc,Qc=new ge("auth","Firebase",Xc());var yr=new gt("@firebase/auth");function Wf(n,...e){yr.logLevel<=C.WARN&&yr.warn(`Auth (${vt}): ${n}`,...e)}function pr(n,...e){yr.logLevel<=C.ERROR&&yr.error(`Auth (${vt}): ${n}`,...e)}function K(n,...e){throw Bs(n,...e)}function Z(n,...e){return Bs(n,...e)}function zs(n,e,t){let r=Object.assign(Object.assign({},Zc()),{[e]:t});return new ge("auth","Firebase",r).create(e,{appName:n.name})}function we(n){return zs(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Hf(n,e,t){let r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&K(n,"argument-error"),zs(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Bs(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return Qc.create(n,...e)}function v(n,e,...t){if(!n)throw Bs(e,...t)}function ye(n){let e="INTERNAL ASSERTION FAILED: "+n;throw pr(e),new Error(e)}function Ee(n,e){n||ye(e)}function Rs(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function qf(){return Lc()==="http:"||Lc()==="https:"}function Lc(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function Gf(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(qf()||fc()||"connection"in navigator)?navigator.onLine:!0}function Kf(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ke=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,Ee(t>e,"Short delay should be less than long delay!"),this.isMobile=dc()||pc()}get(){return Gf()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Ws(n,e){Ee(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Ir=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ye("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ye("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ye("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var Jf={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Yf=new Ke(3e4,6e4);function Ue(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function xe(s,o,c,a){return l(this,arguments,function*(n,e,t,r,i={}){return eu(n,i,()=>l(this,null,function*(){let u={},d={};r&&(e==="GET"?d=r:u={body:JSON.stringify(r)});let h=ht(Object.assign({key:n.config.apiKey},d)).slice(1),g=yield n._getAdditionalHeaders();g["Content-Type"]="application/json",n.languageCode&&(g["X-Firebase-Locale"]=n.languageCode);let y=Object.assign({method:e,headers:g},u);return hc()||(y.referrerPolicy="no-referrer"),Ir.fetch()(tu(n,n.config.apiHost,t,h),y)}))})}function eu(n,e,t){return l(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},Jf),e);try{let i=new Ss(n),s=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw fr(n,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let c=s.ok?o.errorMessage:o.error.message,[a,u]=c.split(" : ");if(a==="FEDERATED_USER_ID_ALREADY_LINKED")throw fr(n,"credential-already-in-use",o);if(a==="EMAIL_EXISTS")throw fr(n,"email-already-in-use",o);if(a==="USER_DISABLED")throw fr(n,"user-disabled",o);let d=r[a]||a.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw zs(n,d,u);K(n,d)}}catch(i){if(i instanceof X)throw i;K(n,"network-request-failed",{message:String(i)})}})}function vn(s,o,c,a){return l(this,arguments,function*(n,e,t,r,i={}){let u=yield xe(n,e,t,r,i);return"mfaPendingCredential"in u&&K(n,"multi-factor-auth-required",{_serverResponse:u}),u})}function tu(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?Ws(n.config,i):`${n.config.apiScheme}://${i}`}function Xf(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Ss=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Z(this.auth,"network-request-failed")),Yf.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function fr(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=Z(n,e,r);return i.customData._tokenResponse=t,i}function Uc(n){return n!==void 0&&n.enterprise!==void 0}var As=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Xf(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Zf(n,e){return l(this,null,function*(){return xe(n,"GET","/v2/recaptchaConfig",Ue(n,e))})}function Qf(n,e){return l(this,null,function*(){return xe(n,"POST","/v1/accounts:delete",e)})}function nu(n,e){return l(this,null,function*(){return xe(n,"POST","/v1/accounts:lookup",e)})}function ln(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Hs(n,e=!1){return l(this,null,function*(){let t=re(n),r=yield t.getIdToken(e),i=qs(r);v(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:ln(Ts(i.auth_time)),issuedAtTime:ln(Ts(i.iat)),expirationTime:ln(Ts(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function Ts(n){return Number(n)*1e3}function qs(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return pr("JWT malformed, contained fewer than 3 sections"),null;try{let i=Qi(t);return i?JSON.parse(i):(pr("Failed to decode base64 JWT payload"),null)}catch(i){return pr("Caught error parsing JWT payload as JSON",i?.toString()),null}}function xc(n){let e=qs(n);return v(e,"internal-error"),v(typeof e.exp<"u","internal-error"),v(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function hn(n,e,t=!1){return l(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof X&&ep(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function ep({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Cs=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>l(this,null,function*(){yield this.iteration()}),t)}iteration(){return l(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var fn=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ln(this.lastLoginAt),this.creationTime=ln(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function wr(n){return l(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield hn(n,nu(t,{idToken:r}));v(i?.users.length,t,"internal-error");let s=i.users[0];n._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?ru(s.providerUserInfo):[],c=tp(n.providerData,o),a=n.isAnonymous,u=!(n.email&&s.passwordHash)&&!c?.length,d=a?u:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new fn(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(n,h)})}function Gs(n){return l(this,null,function*(){let e=re(n);yield wr(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function tp(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function ru(n){return n.map(e=>{var{providerId:t}=e,r=In(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function np(n,e){return l(this,null,function*(){let t=yield eu(n,{},()=>l(this,null,function*(){let r=ht({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,o=tu(n,i,"/v1/token",`key=${s}`),c=yield n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",Ir.fetch()(o,{method:"POST",headers:c,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function rp(n,e){return l(this,null,function*(){return xe(n,"POST","/v2/accounts:revokeToken",Ue(n,e))})}var dn=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){v(e.idToken,"internal-error"),v(typeof e.idToken<"u","internal-error"),v(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):xc(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){v(e.length!==0,"internal-error");let t=xc(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return l(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(v(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return l(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield np(e,t);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:s}=t,o=new n;return r&&(v(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(v(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(v(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return ye("not implemented")}};function Le(n,e){v(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var wt=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=In(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Cs(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new fn(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return l(this,null,function*(){let t=yield hn(this,this.stsTokenManager.getToken(this.auth,e));return v(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return Hs(this,e)}reload(){return Gs(this)}_assign(e){this!==e&&(v(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){v(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return l(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield wr(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return l(this,null,function*(){if(G(this.auth.app))return Promise.reject(we(this.auth));let e=yield this.getIdToken();return yield hn(this,Qf(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,o,c,a,u,d;let h=(r=t.displayName)!==null&&r!==void 0?r:void 0,g=(i=t.email)!==null&&i!==void 0?i:void 0,y=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,S=(o=t.photoURL)!==null&&o!==void 0?o:void 0,_=(c=t.tenantId)!==null&&c!==void 0?c:void 0,w=(a=t._redirectEventId)!==null&&a!==void 0?a:void 0,k=(u=t.createdAt)!==null&&u!==void 0?u:void 0,J=(d=t.lastLoginAt)!==null&&d!==void 0?d:void 0,{uid:O,emailVerified:_e,isAnonymous:Q,providerData:ae,stsTokenManager:Tt}=t;v(O&&Tt,e,"internal-error");let Du=dn.fromJSON(this.name,Tt);v(typeof O=="string",e,"internal-error"),Le(h,e.name),Le(g,e.name),v(typeof _e=="boolean",e,"internal-error"),v(typeof Q=="boolean",e,"internal-error"),Le(y,e.name),Le(S,e.name),Le(_,e.name),Le(w,e.name),Le(k,e.name),Le(J,e.name);let Lr=new n({uid:O,auth:e,email:g,emailVerified:_e,displayName:h,isAnonymous:Q,photoURL:S,phoneNumber:y,tenantId:_,stsTokenManager:Du,createdAt:k,lastLoginAt:J});return ae&&Array.isArray(ae)&&(Lr.providerData=ae.map(Nu=>Object.assign({},Nu))),w&&(Lr._redirectEventId=w),Lr}static _fromIdTokenResponse(e,t,r=!1){return l(this,null,function*(){let i=new dn;i.updateFromServerResponse(t);let s=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield wr(s),s})}static _fromGetAccountInfoResponse(e,t,r){return l(this,null,function*(){let i=t.users[0];v(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?ru(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,c=new dn;c.updateFromIdToken(r);let a=new n({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:o}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new fn(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(a,u),a})}};var Fc=new Map;function Ie(n){Ee(n instanceof Function,"Expected a class definition");let e=Fc.get(n);return e?(Ee(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Fc.set(n,e),e)}var ip=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return l(this,null,function*(){return!0})}_set(t,r){return l(this,null,function*(){this.storage[t]=r})}_get(t){return l(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return l(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Os=ip;function gr(n,e,t){return`firebase:${n}:${e}:${t}`}var Er=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=gr(this.userKey,i.apiKey,s),this.fullPersistenceKey=gr("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return l(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?wt._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return l(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return l(this,null,function*(){if(!t.length)return new n(Ie(Os),e,r);let i=(yield Promise.all(t.map(u=>l(this,null,function*(){if(yield u._isAvailable())return u})))).filter(u=>u),s=i[0]||Ie(Os),o=gr(r,e.config.apiKey,e.name),c=null;for(let u of t)try{let d=yield u._get(o);if(d){let h=wt._fromJSON(e,d);u!==s&&(c=h),s=u;break}}catch{}let a=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!a.length?new n(s,e,r):(s=a[0],c&&(yield s._set(o,c.toJSON())),yield Promise.all(t.map(u=>l(this,null,function*(){if(u!==s)try{yield u._remove(o)}catch{}}))),new n(s,e,r))})}};function jc(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(au(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(iu(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(uu(e))return"Blackberry";if(lu(e))return"Webos";if(su(e))return"Safari";if((e.includes("chrome/")||ou(e))&&!e.includes("edge/"))return"Chrome";if(cu(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function iu(n=x()){return/firefox\//i.test(n)}function su(n=x()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ou(n=x()){return/crios\//i.test(n)}function au(n=x()){return/iemobile/i.test(n)}function cu(n=x()){return/android/i.test(n)}function uu(n=x()){return/blackberry/i.test(n)}function lu(n=x()){return/webos/i.test(n)}function Ks(n=x()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function sp(n=x()){var e;return Ks(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function op(){return gc()&&document.documentMode===10}function du(n=x()){return Ks(n)||cu(n)||lu(n)||uu(n)||/windows phone/i.test(n)||au(n)}function hu(n,e=[]){let t;switch(n){case"Browser":t=jc(x());break;case"Worker":t=`${jc(x())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${vt}/${r}`}var Ps=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=s=>new Promise((o,c)=>{try{let a=e(s);o(a)}catch(a){c(a)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return l(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function ap(t){return l(this,arguments,function*(n,e={}){return xe(n,"GET","/v2/passwordPolicy",Ue(n,e))})}var cp=6,Ds=class{constructor(e){var t,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=o.minPasswordLength)!==null&&t!==void 0?t:cp,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,o,c;let a={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,a),this.validatePasswordCharacterOptions(e,a),a.isValid&&(a.isValid=(t=a.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),a.isValid&&(a.isValid=(r=a.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),a.isValid&&(a.isValid=(i=a.containsLowercaseLetter)!==null&&i!==void 0?i:!0),a.isValid&&(a.isValid=(s=a.containsUppercaseLetter)!==null&&s!==void 0?s:!0),a.isValid&&(a.isValid=(o=a.containsNumericCharacter)!==null&&o!==void 0?o:!0),a.isValid&&(a.isValid=(c=a.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),a}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Ns=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new _r(this),this.idTokenSubscription=new _r(this),this.beforeStateQueue=new Ps(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=Qc,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Ie(t)),this._initializationPromise=this.queue(()=>l(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Er.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return l(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return l(this,null,function*(){try{let t=yield nu(this,{idToken:e}),r=yield wt._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return l(this,null,function*(){var t;if(G(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(c,c))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i?._redirectEventId,a=yield this.tryRedirectSignIn(e);(!o||o===c)&&a?.user&&(i=a.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return v(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return l(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return l(this,null,function*(){try{yield wr(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Kf()}_delete(){return l(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return l(this,null,function*(){if(G(this.app))return Promise.reject(we(this));let t=e?re(e):null;return t&&v(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return l(this,null,function*(){if(!this._deleted)return e&&v(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>l(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return l(this,null,function*(){return G(this.app)?Promise.reject(we(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return G(this.app)?Promise.reject(we(this)):this.queue(()=>l(this,null,function*(){yield this.assertedPersistence.setPersistence(Ie(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return l(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return l(this,null,function*(){let e=yield ap(this),t=new Ds(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new ge("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return l(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield rp(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return l(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return l(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Ie(e)||this._popupRedirectResolver;v(t,this,"argument-error"),this.redirectPersistenceManager=yield Er.create(this,[Ie(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return l(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>l(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return l(this,null,function*(){if(e===this.currentUser)return this.queue(()=>l(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let s=typeof t=="function"?t:t.next.bind(t),o=!1,c=this._isInitialized?Promise.resolve():this._initializationPromise;if(v(c,this,"internal-error"),c.then(()=>{o||s(this.currentUser)}),typeof t=="function"){let a=e.addObserver(t,r,i);return()=>{o=!0,a()}}else{let a=e.addObserver(t);return()=>{o=!0,a()}}}directlySetCurrentUser(e){return l(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return v(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=hu(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return l(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return l(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&Wf(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function Fe(n){return re(n)}var _r=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=Ic(t=>this.observer=t)}get next(){return v(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Dr={loadJS(){return l(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function up(n){Dr=n}function fu(n){return Dr.loadJS(n)}function lp(){return Dr.recaptchaEnterpriseScript}function dp(){return Dr.gapiScript}function pu(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var hp="recaptcha-enterprise",fp="NO_RECAPTCHA",ks=class{constructor(e){this.type=hp,this.auth=Fe(e)}verify(e="verify",t=!1){return l(this,null,function*(){function r(s){return l(this,null,function*(){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,c)=>l(this,null,function*(){Zf(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(a=>{if(a.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{let u=new As(a);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(a=>{c(a)})}))})}function i(s,o,c){let a=window.grecaptcha;Uc(a)?a.enterprise.ready(()=>{a.enterprise.execute(s,{action:e}).then(u=>{o(u)}).catch(()=>{o(fp)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(c=>{if(!t&&Uc(window.grecaptcha))i(c,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let a=lp();a.length!==0&&(a+=c),fu(a).then(()=>{i(c,s,o)}).catch(u=>{o(u)})}}).catch(c=>{o(c)})})})}};function $c(n,e,t,r=!1){return l(this,null,function*(){let i=new ks(n),s;try{s=yield i.verify(t)}catch{s=yield i.verify(t,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Ms(n,e,t,r){return l(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield $c(n,e,t,t==="getOobCode");return r(n,s)}else return r(n,e).catch(s=>l(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield $c(n,e,t,t==="getOobCode");return r(n,o)}else return Promise.reject(s)}))})}function Js(n,e){let t=ys(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),s=t.getOptions();if(dt(s,e??{}))return i;K(i,"already-initialized")}return t.initialize({options:e})}function pp(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Ie);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function Ys(n,e,t){let r=Fe(n);v(r._canInitEmulator,r,"emulator-config-failed"),v(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,s=gu(e),{host:o,port:c}=gp(e),a=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${o}${a}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||mp()}function gu(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function gp(n){let e=gu(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:Vc(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:Vc(o)}}}function Vc(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function mp(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Et=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return ye("not implemented")}_getIdTokenResponse(e){return ye("not implemented")}_linkToIdToken(e,t){return ye("not implemented")}_getReauthenticationResolver(e){return ye("not implemented")}};function vp(n,e){return l(this,null,function*(){return xe(n,"POST","/v1/accounts:signUp",e)})}function yp(n,e){return l(this,null,function*(){return vn(n,"POST","/v1/accounts:signInWithPassword",Ue(n,e))})}function Ip(n,e){return l(this,null,function*(){return vn(n,"POST","/v1/accounts:signInWithEmailLink",Ue(n,e))})}function wp(n,e){return l(this,null,function*(){return vn(n,"POST","/v1/accounts:signInWithEmailLink",Ue(n,e))})}var pn=class n extends Et{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return l(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ms(e,t,"signInWithPassword",yp);case"emailLink":return Ip(e,{email:this._email,oobCode:this._password});default:K(e,"internal-error")}})}_linkToIdToken(e,t){return l(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ms(e,r,"signUpPassword",vp);case"emailLink":return wp(e,{idToken:t,email:this._email,oobCode:this._password});default:K(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function It(n,e){return l(this,null,function*(){return vn(n,"POST","/v1/accounts:signInWithIdp",Ue(n,e))})}var Ep="http://localhost",Tr=class n extends Et{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){let t=new n(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):K("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=In(t,["providerId","signInMethod"]);if(!r||!i)return null;let o=new n(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){let t=this.buildRequest();return It(e,t)}_linkToIdToken(e,t){let r=this.buildRequest();return r.idToken=t,It(e,r)}_getReauthenticationResolver(e){let t=this.buildRequest();return t.autoCreate=!1,It(e,t)}buildRequest(){let e={requestUri:Ep,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{let t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=ht(t)}return e}};function _p(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function Tp(n){let e=ft(pt(n)).link,t=e?ft(pt(e)).deep_link_id:null,r=ft(pt(n)).deep_link_id;return(r?ft(pt(r)).link:null)||r||t||e||n}var br=class n{constructor(e){var t,r,i,s,o,c;let a=ft(pt(e)),u=(t=a.apiKey)!==null&&t!==void 0?t:null,d=(r=a.oobCode)!==null&&r!==void 0?r:null,h=_p((i=a.mode)!==null&&i!==void 0?i:null);v(u&&d&&h,"argument-error"),this.apiKey=u,this.operation=h,this.code=d,this.continueUrl=(s=a.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=a.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(c=a.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){let t=Tp(e);try{return new n(t)}catch{return null}}};var mu=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return pn._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=br.parseLink(r);return v(i,"argument-error"),pn._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),gn=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Rr=class extends gn{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};var bp=(()=>{class n extends Rr{constructor(){super("google.com"),this.addScope("profile")}static credential(t,r){return Tr._fromParams({providerId:n.PROVIDER_ID,signInMethod:n.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:r})}static credentialFromResult(t){return n.credentialFromTaggedObject(t)}static credentialFromError(t){return n.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;let{oauthIdToken:r,oauthAccessToken:i}=t;if(!r&&!i)return null;try{return n.credential(r,i)}catch{return null}}}n.GOOGLE_SIGN_IN_METHOD="google.com",n.PROVIDER_ID="google.com";return n})();function Rp(n,e){return l(this,null,function*(){return vn(n,"POST","/v1/accounts:signUp",Ue(n,e))})}var _t=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return l(this,null,function*(){let s=yield wt._fromIdTokenResponse(e,r,i),o=zc(r);return new n({user:s,providerId:o,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return l(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=zc(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function zc(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Ls=class n extends X{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function vu(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?Ls._fromErrorAndOperation(n,s,e,r):s})}function Sp(n,e,t=!1){return l(this,null,function*(){let r=yield hn(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return _t._forOperation(n,"link",r)})}function Ap(n,e,t=!1){return l(this,null,function*(){let{auth:r}=n;if(G(r.app))return Promise.reject(we(r));let i="reauthenticate";try{let s=yield hn(n,vu(r,i,e,n),t);v(s.idToken,r,"internal-error");let o=qs(s.idToken);v(o,r,"internal-error");let{sub:c}=o;return v(n.uid===c,r,"user-mismatch"),_t._forOperation(n,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&K(r,"user-mismatch"),s}})}function yu(n,e,t=!1){return l(this,null,function*(){if(G(n.app))return Promise.reject(we(n));let r="signIn",i=yield vu(n,r,e),s=yield _t._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(s.user)),s})}function Xs(n,e){return l(this,null,function*(){return yu(Fe(n),e)})}function Iu(n){return l(this,null,function*(){let e=Fe(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function Zs(n,e,t){return l(this,null,function*(){if(G(n.app))return Promise.reject(we(n));let r=Fe(n),o=yield Ms(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Rp).catch(a=>{throw a.code==="auth/password-does-not-meet-requirements"&&Iu(n),a}),c=yield _t._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(c.user),c})}function Qs(n,e,t){return G(n.app)?Promise.reject(we(n)):Xs(re(n),mu.credential(e,t)).catch(r=>l(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&Iu(n),r}))}function Nr(n,e,t,r){return re(n).onIdTokenChanged(e,t,r)}function eo(n,e,t){return re(n).beforeAuthStateChanged(e,t)}function kr(n,e,t,r){return re(n).onAuthStateChanged(e,t,r)}function to(n){return re(n).signOut()}var Sr="__sak";var Ar=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Sr,"1"),this.storage.removeItem(Sr),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var Cp=1e3,Op=10,Pp=(()=>{class n extends Ar{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=du(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&t(r,s,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((c,a,u)=>{this.notifyListeners(c,u)});return}let i=t.key;r?this.detachListener():this.stopPolling();let s=()=>{let c=this.storage.getItem(i);!r&&this.localCache[i]===c||this.notifyListeners(i,c)},o=this.storage.getItem(i);op()&&o!==t.newValue&&t.newValue!==t.oldValue?setTimeout(s,Op):s()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},Cp)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return l(this,null,function*(){yield je(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return l(this,null,function*(){let r=yield je(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return l(this,null,function*(){yield je(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),wu=Pp;var Dp=(()=>{class n extends Ar{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),no=Dp;function Np(n){return Promise.all(n.map(e=>l(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var kp=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(s=>s.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return l(this,null,function*(){let r=t,{eventId:i,eventType:s,data:o}=r.data,c=this.handlersMap[s];if(!c?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let a=Array.from(c).map(d=>l(this,null,function*(){return d(r.origin,o)})),u=yield Np(a);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:u})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function ro(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var Us=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return l(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((c,a)=>{let u=ro("",20);i.port1.start();let d=setTimeout(()=>{a(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(h){let g=h;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{a(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(g.data.response);break;default:clearTimeout(d),clearTimeout(s),a(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:u,data:t},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function oe(){return window}function Mp(n){oe().location.href=n}function Eu(){return typeof oe().WorkerGlobalScope<"u"&&typeof oe().importScripts=="function"}function Lp(){return l(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function Up(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function xp(){return Eu()?self:null}var _u="firebaseLocalStorageDb",Fp=1,Cr="firebaseLocalStorage",Tu="fbase_key",Je=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function Mr(n,e){return n.transaction([Cr],e?"readwrite":"readonly").objectStore(Cr)}function jp(){let n=indexedDB.deleteDatabase(_u);return new Je(n).toPromise()}function xs(){let n=indexedDB.open(_u,Fp);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Cr,{keyPath:Tu})}catch(i){t(i)}}),n.addEventListener("success",()=>l(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Cr)?e(r):(r.close(),yield jp(),e(yield xs()))}))})}function Bc(n,e,t){return l(this,null,function*(){let r=Mr(n,!0).put({[Tu]:e,value:t});return new Je(r).toPromise()})}function $p(n,e){return l(this,null,function*(){let t=Mr(n,!1).get(e),r=yield new Je(t).toPromise();return r===void 0?null:r.value})}function Wc(n,e){let t=Mr(n,!0).delete(e);return new Je(t).toPromise()}var Vp=800,zp=3,Bp=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return l(this,null,function*(){return this.db?this.db:(this.db=yield xs(),this.db)})}_withRetries(t){return l(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>zp)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return l(this,null,function*(){return Eu()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return l(this,null,function*(){this.receiver=kp._getInstance(xp()),this.receiver._subscribe("keyChanged",(t,r)=>l(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>l(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return l(this,null,function*(){var t,r;if(this.activeServiceWorker=yield Lp(),!this.activeServiceWorker)return;this.sender=new Us(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return l(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||Up()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return l(this,null,function*(){try{if(!indexedDB)return!1;let t=yield xs();return yield Bc(t,Sr,"1"),yield Wc(t,Sr),!0}catch{}return!1})}_withPendingWrite(t){return l(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(i=>Bc(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return l(this,null,function*(){let r=yield this._withRetries(i=>$p(i,t));return this.localCache[t]=r,r})}_remove(t){return l(this,null,function*(){return this._withPendingWrite(()=>l(this,null,function*(){return yield this._withRetries(r=>Wc(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return l(this,null,function*(){let t=yield this._withRetries(s=>{let o=Mr(s,!1).getAll();return new Je(o).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:s,value:o}of t)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>l(this,null,function*(){return this._poll()}),Vp)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),bu=Bp;var By=pu("rcb"),Wy=new Ke(3e4,6e4);function Ru(n,e){return e?Ie(e):(v(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var mn=class extends Et{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return It(e,this._buildIdpRequest())}_linkToIdToken(e,t){return It(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return It(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function Wp(n){return yu(n.auth,new mn(n),n.bypassAuthState)}function Hp(n){let{auth:e,user:t}=n;return v(t,e,"internal-error"),Ap(t,new mn(n),n.bypassAuthState)}function qp(n){return l(this,null,function*(){let{auth:e,user:t}=n;return v(t,e,"internal-error"),Sp(t,new mn(n),n.bypassAuthState)})}var Or=class{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>l(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return l(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:o,type:c}=e;if(o){this.reject(o);return}let a={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(c)(a))}catch(u){this.reject(u)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Wp;case"linkViaPopup":case"linkViaRedirect":return qp;case"reauthViaPopup":case"reauthViaRedirect":return Hp;default:K(this.auth,"internal-error")}}resolve(e){Ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Ee(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var Gp=new Ke(2e3,1e4);function io(n,e,t){return l(this,null,function*(){if(G(n.app))return Promise.reject(Z(n,"operation-not-supported-in-this-environment"));let r=Fe(n);Hf(n,e,gn);let i=Ru(r,t);return new Kp(r,"signInViaPopup",e,i).executeNotNull()})}var Kp=(()=>{class n extends Or{constructor(t,r,i,s,o){super(t,r,s,o),this.provider=i,this.authWindow=null,this.pollId=null,n.currentPopupAction&&n.currentPopupAction.cancel(),n.currentPopupAction=this}executeNotNull(){return l(this,null,function*(){let t=yield this.execute();return v(t,this.auth,"internal-error"),t})}onExecution(){return l(this,null,function*(){Ee(this.filter.length===1,"Popup operations only handle one event");let t=ro();this.authWindow=yield this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Z(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()})}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Z(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,n.currentPopupAction=null}pollUserCancellation(){let t=()=>{var r,i;if(!((i=(r=this.authWindow)===null||r===void 0?void 0:r.window)===null||i===void 0)&&i.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Z(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,Gp.get())};t()}}n.currentPopupAction=null;return n})(),Jp="pendingRedirect",mr=new Map,Fs=class n extends Or{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return l(this,null,function*(){let e=mr.get(this.auth._key());if(!e){try{let r=(yield Yp(this.resolver,this.auth))?yield je(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}mr.set(this.auth._key(),e)}return this.bypassAuthState||mr.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return l(this,null,function*(){if(e.type==="signInViaRedirect")return je(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,je(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return l(this,null,function*(){})}cleanUp(){}};function Yp(n,e){return l(this,null,function*(){let t=Qp(e),r=Zp(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function Xp(n,e){mr.set(n._key(),e)}function Zp(n){return Ie(n._redirectPersistence)}function Qp(n){return gr(Jp,n.config.apiKey,n.name)}function eg(n,e,t=!1){return l(this,null,function*(){if(G(n.app))return Promise.reject(we(n));let r=Fe(n),i=Ru(r,e),o=yield new Fs(r,i,t).execute();return o&&!t&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var tg=10*60*1e3,js=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!ng(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!Su(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(Z(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=tg&&this.cachedEventUids.clear(),this.cachedEventUids.has(Hc(e))}saveEventToCache(e){this.cachedEventUids.add(Hc(e)),this.lastProcessedEventTime=Date.now()}};function Hc(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function Su({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function ng(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Su(n);default:return!1}}function rg(t){return l(this,arguments,function*(n,e={}){return xe(n,"GET","/v1/projects",e)})}var ig=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sg=/^https?/;function og(n){return l(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield rg(n);for(let t of e)try{if(ag(t))return}catch{}K(n,"unauthorized-domain")})}function ag(n){let e=Rs(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let o=new URL(n);return o.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&o.hostname===r}if(!sg.test(t))return!1;if(ig.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var cg=new Ke(3e4,6e4);function qc(){let n=oe().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function ug(n){return new Promise((e,t)=>{var r,i,s;function o(){qc(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{qc(),t(Z(n,"network-request-failed"))},timeout:cg.get()})}if(!((i=(r=oe().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=oe().gapi)===null||s===void 0)&&s.load)o();else{let c=pu("iframefcb");return oe()[c]=()=>{gapi.load?o():t(Z(n,"network-request-failed"))},fu(`${dp()}?onload=${c}`).catch(a=>t(a))}}).catch(e=>{throw vr=null,e})}var vr=null;function lg(n){return vr=vr||ug(n),vr}var dg=new Ke(5e3,15e3),hg="__/auth/iframe",fg="emulator/auth/iframe",pg={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gg=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mg(n){let e=n.config;v(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Ws(e,fg):`https://${n.config.authDomain}/${hg}`,r={apiKey:e.apiKey,appName:n.name,v:vt},i=gg.get(n.config.apiHost);i&&(r.eid=i);let s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${ht(r).slice(1)}`}function vg(n){return l(this,null,function*(){let e=yield lg(n),t=oe().gapi;return v(t,n,"internal-error"),e.open({where:document.body,url:mg(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pg,dontclear:!0},r=>new Promise((i,s)=>l(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Z(n,"network-request-failed"),c=oe().setTimeout(()=>{s(o)},dg.get());function a(){oe().clearTimeout(c),i(r)}r.ping(a).then(a,()=>{s(o)})})))})}var yg={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Ig=500,wg=600,Eg="_blank",_g="http://localhost",Pr=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function Tg(n,e,t,r=Ig,i=wg){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),c="",a=Object.assign(Object.assign({},yg),{width:r.toString(),height:i.toString(),top:s,left:o}),u=x().toLowerCase();t&&(c=ou(u)?Eg:t),iu(u)&&(e=e||_g,a.scrollbars="yes");let d=Object.entries(a).reduce((g,[y,S])=>`${g}${y}=${S},`,"");if(sp(u)&&c!=="_self")return bg(e||"",c),new Pr(null);let h=window.open(e||"",c,d);v(h,n,"popup-blocked");try{h.focus()}catch{}return new Pr(h)}function bg(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var Rg="__/auth/handler",Sg="emulator/auth/handler",Ag=encodeURIComponent("fac");function Gc(n,e,t,r,i,s){return l(this,null,function*(){v(n.config.authDomain,n,"auth-domain-config-required"),v(n.config.apiKey,n,"invalid-api-key");let o={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:vt,eventId:i};if(e instanceof gn){e.setDefaultLanguage(n.languageCode),o.providerId=e.providerId||"",yc(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[d,h]of Object.entries(s||{}))o[d]=h}if(e instanceof Rr){let d=e.getScopes().filter(h=>h!=="");d.length>0&&(o.scopes=d.join(","))}n.tenantId&&(o.tid=n.tenantId);let c=o;for(let d of Object.keys(c))c[d]===void 0&&delete c[d];let a=yield n._getAppCheckToken(),u=a?`#${Ag}=${encodeURIComponent(a)}`:"";return`${Cg(n)}?${ht(c).slice(1)}${u}`})}function Cg({config:n}){return n.emulator?Ws(n,Sg):`https://${n.authDomain}/${Rg}`}var bs="webStorageSupport",$s=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=no,this._completeRedirectFn=eg,this._overrideRedirectResult=Xp}_openPopup(e,t,r,i){return l(this,null,function*(){var s;Ee((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield Gc(e,t,r,Rs(),i);return Tg(e,o,ro())})}_openRedirect(e,t,r,i){return l(this,null,function*(){yield this._originValidation(e);let s=yield Gc(e,t,r,Rs(),i);return Mp(s),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(Ee(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return l(this,null,function*(){let t=yield vg(e),r=new js(e);return t.register("authEvent",i=>(v(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(bs,{type:bs},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[bs];o!==void 0&&t(!!o),K(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=og(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return du()||su()||Ks()}},Au=$s;var Kc="@firebase/auth",Jc="1.7.9";var Vs=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return l(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){v(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function Og(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Pg(n){mt(new ie("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:c}=r.options;v(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let a={apiKey:o,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:hu(n)},u=new Ns(r,i,s,a);return pp(u,t),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),mt(new ie("auth-internal",e=>{let t=Fe(e.getProvider("auth").getImmediate());return(r=>new Vs(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),F(Kc,Jc,Og(n)),F(Kc,Jc,"esm2017")}var Dg=5*60,Ng=rs("authIdTokenMaxAge")||Dg,Yc=null,kg=n=>e=>l(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>Ng)return;let i=t?.token;Yc!==i&&(Yc=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function so(n=ar()){let e=ys(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Js(n,{popupRedirectResolver:Au,persistence:[bu,wu,no]}),r=rs("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=kg(s.toString());eo(t,o,()=>o(t.currentUser)),Nr(t,c=>o(c))}}let i=ts("auth");return i&&Ys(t,`http://${i}`),t}function Mg(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}up({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let s=Z("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",Mg().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Pg("Browser");function Ou(n){return new Te(function(e){var t=kr(n,e.next.bind(e),e.error.bind(e),e.complete.bind(e));return{unsubscribe:t}})}var Pu="auth",yn=class{constructor(e){return e}},oo=class{constructor(){return Es(Pu)}};var ao=new A("angularfire2.auth-instances");function Em(n,e){let t=Mc(Pu,n,e);return t&&new yn(t)}function _m(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new yn(r)}}var Tm={provide:oo,deps:[[new ee,ao]]},bm={provide:yn,useFactory:Em,deps:[[new ee,ao],Ge]};function DI(n,...e){return F("angularfire",cn.full,"auth"),ue([bm,Tm,{provide:ao,useFactory:_m(n),multi:!0,deps:[U,Ve,dr,un,[new ee,ur],...e]}])}var NI=ve(Ou,!0);var kI=ve(Zs,!0);var MI=ve(so,!0);var LI=ve(Qs,!0);var UI=ve(io,!0);var xI=ve(to,!0);export{Vu as a,jm as b,ca as c,Iv as d,ed as e,pe as f,Vv as g,zv as h,Bv as i,qv as j,Gv as k,X as l,ie as m,C as n,gt as o,mt as p,ys as q,vt as r,ar as s,F as t,cn as u,Mc as v,Es as w,ur as x,dr as y,ve as z,Ge as A,un as B,My as C,Ly as D,bp as E,so as F,yn as G,oo as H,DI as I,NI as J,kI as K,MI as L,LI as M,UI as N,xI as O};
